<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Software dependencies, Build automation</title>
<meta name="description" content="Introduction to agile and DevOps, a case from the literature, SCRUM">
<meta name="author" content="Danilo Pianini">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/course-slides/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/course-slides/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/course-slides/css/custom-theme.min.e98e7d09f955f316ccf66388b4c5eb8b89dfdb0a57cb72bf0fc9f3f33860984c.css" id="theme"><link rel="stylesheet" href="/course-slides/highlight-js/github.min.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/DanySK/css-blur-animation/master/blur.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/81ac037be0.js" crossorigin="anonymous"></script>
<script src="https://unibo-dtm-se.github.io/course-slides/plantuml.js"></script>

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="software-dependencies-build-automation">Software dependencies, Build automation</h1>
<br>
<h2 id="hahahugoshortcode1s0hbhb">Software Engineering</h2>
<h3 id="for-intelligent-distributed-systems"><strong>(for Intelligent Distributed Systems)</strong></h3>
<h3 id="module-principles-and-methods">Module “Principles and Methods”</h3>
<h4 id="hahahugoshortcode1s1hbhb">A.Y. 2023/2024</h4>
<h5 id="hahahugoshortcode1s2hbhb-reusing-material-made-by-hahahugoshortcode1s3hbhb"><a href="mailto:giovanni.ciatto@unibo.it">Giovanni Ciatto</a> (reusing material made by <a href="mailto:danilo.pianini@unibo.it">Danilo Pianini</a>)</h5>
<br>
<br>
<p>Compiled on: 2024-03-23 — <a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> printable version</a></p>
<p><a href=".."><i class="fa fa-undo" aria-hidden="true"></i> back</a></p>
</section><section>
<h1 id="the-build-life-cycle">The build “life cycle”</h1>
<p>(Not to be confused with the system development life cycle (SDLC))</p>
<blockquote>
<p>The process of creating <em>tested deployable software artifacts</em>
<br>
from <em>source</em> code</p>
</blockquote>
<p>May include, depending on the system specifics:</p>
<ol>
<li><em>Source code manipulation</em> and generation</li>
<li>Source code <em>quality assurance</em></li>
<li><strong>Dependency management</strong></li>
<li><em>Compilation</em>, linking</li>
<li><em>Binary manipulation</em></li>
<li><em>Test execution</em></li>
<li>Test <em>quality assurance</em> (e.g., coverage)</li>
<li>API <em>documentation</em></li>
<li><strong>Packaging</strong></li>
<li><strong>Delivery</strong></li>
</ol>
<!-- ---

# Lifecycle styles

* **Custom**: select some phases that the product needs and perform them.
    * *Flexible and configurable*: tailored on each project's needs
    * *Hard to adapt and port*

* **Standard**: run a sequence of pre-defined actions/phases.
    * *Portable and easy to understand*: replicated on every product
    * *Limited configuration options* -->
</section><section>
<h1 id="build-automation">Build automation</h1>
<p>Automation of the build lifecycle</p>
<ul>
<li>In principle, the lifecycle could be executed manually</li>
<li>In reality <em>time is precious</em> and <em>repetitivy is boring</em> (and <strong>error-prone</strong>)</li>
</ul>
<blockquote>
<p>$\Rightarrow$ Create software that automates the building of some software!</p>
</blockquote>
<ul>
<li>All those concerns that hold for software creation hold for build systems creation…</li>
</ul>
</section><section>
<!-- ## Build automation: basics and styles

Different lifecycle types generate different build automation **styles**

**Imperative**: write a script that tells the system what to do to get
from code to artifacts
* *Examples*: make, cmake, Apache Ant
* *Abstraction gap*: verbose, repetitive
* Configuration (*declarative*) and actionable (*imperative*) logics *mixed* together
* Highly *configurable*

**Declarative**: adhere to some convention, customizing some settings
* *Examples*: Apache Maven
* Separation between *what* to do and *how* to do it
  * The build system decides how to do the stuff
* *Configuration limited* by the provided options -->
<h2 id="__declarative__-build-automation-systems"><strong>Declarative</strong> build automation systems</h2>
<p>Modern build automation systems are <strong>declarative</strong></p>
<blockquote>
<p><strong>Declarative</strong> software $\approx$ the program describes <em>what</em> to do, not <em>how</em> to do it
<br>
(as opposed to <em>imperative</em> software $\approx$ the program describes <em>how</em> to do it,
<br>
e.g. Python)</p>
</blockquote>
<p>In other words:</p>
<ul>
<li>they rely on <em>conventions</em> and <em>defaults</em></li>
<li>as long as developers follow them, the configuration is <em>minimal</em></li>
<li>good look if you try to deviate from conventions :)</li>
</ul>
<!-- ---

## Hybrid automators

Create a *declarative infrastructure* upon an *imperative basis*, and
*allow easy access to the underlying machinery*

**Domain-Specific Languages** are helpful in this context: they can "hide" imperativity without ruling it out

Still, many challenges remain open:
* How to reuse the build logic?
    * within a project, and among projects -->
</section><section>
<p>Many modern languages (such as Rust) come with a <em>build automator</em> as <em>part of their distribution</em>.</p>
<h2 id="in-python">In Python</h2>
<p>Python is an <em>interpreted</em> language</p>
<ul>
<li>An arguably old one, too (1991)</li>
<li>Initially used mainly for scripting</li>
<li>No need to compile (as far as the project is pure Python)</li>
<li>Build systems were a less pressing concerns than with other platforms…</li>
</ul>
<p>The need for build systems in Python emerged with more complex use cases</p>
<ul>
<li>Since there were none, now there are several tools that do build-related jobs:</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.anaconda.com/">Anaconda</a></td>
<td><a href="https://docs.conda.io/en/latest/index.html">Conda</a></td>
<td><a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a></td>
<td><a href="https://pypi.org/project/pip/">pip</a></td>
</tr>
<tr>
<td><a href="https://python-poetry.org/">Poetry</a></td>
<td><a href="https://pybuilder.io/">PyBuilder</a></td>
<td><a href="https://github.com/pyenv/pyenv">PyEnv</a></td>
<td><a href="https://virtualenv.pypa.io/en/latest/#">virtualenv</a></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>The feature set varies wildly</li>
<li>They are meant to solve different problems!</li>
</ul>
</section><section>
<h2 id="pythons-conflicting-standards">Python’s conflicting standards</h2>
<p><img src="https://imgs.xkcd.com/comics/python_environment.png" alt="xkcd"></p>
<p>Since there were no standard management systems originally,
multiple tools <em>proliferated</em></p>
<ul>
<li>
<p>The Python Packaging Authority (PyPA) is inconsistent in its suggestions:</p>
<ul>
<li>Recommends <a href="https://docs.python.org/3/library/venv.html"><code>venv</code></a></li>
<li>Also recommends <a href="https://pipenv.pypa.io/en/latest/">Pipenv</a> , which uses <a href="https://virtualenv.pypa.io/en/latest/"><code>virtualenv</code></a></li>
<li>Also endorses <a href="https://python-poetry.org/">Poetry</a></li>
</ul>
</li>
<li>
<p>Many Python developers also exploit <a href="https://github.com/pyenv/pyenv">PyEnv</a></p>
</li>
<li>
<p>Many data scientists use <a href="https://www.anaconda.com/">Anaconda</a></p>
</li>
</ul>
</section><section>


<section data-shortcode-section="">
<h2 id="what-are-all-these-tools-pt-1">What are all these tools? (pt. 1)</h2>
<ol>
<li>
<p>By default, Python is installed <em>system-wide</em></p>
<ul>
<li>i.e. there should be <em>one</em> (and <strong>only</strong> one) Python interpreter on the system</li>
</ul>
</li>
<li>
<p>All Python installations come with <code>pip</code>, the <em>package installer</em> for Python</p>
</li>
<li>
<p>So, one may <strong>install</strong> Python packages <em>system-wide</em> with <code>pip</code></p>
<ul>
<li><code>pip install package_name</code></li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>One problem, many implications</strong>: <br> the same package can be installed <em>only once</em> on the same Python installation</p>
<ul>
<li><strong>(a)</strong> what if two projects on the same system require <em>different versions</em> of the <em>same package</em> as dependencies?
<ul>
<li>say, <strong>project A</strong> requires <code>Kivy==2.3</code> and <strong>project B</strong> requires <code>Kivy==1.4</code></li>
</ul>
</li>
<li><strong>(b)</strong> what if two projects on the same system require <em>different versions of Python</em>?
<ul>
<li>say, <strong>project A</strong> requires Python <code>3.8</code> and <strong>project B</strong> requires Python <code>3.10</code></li>
</ul>
</li>
</ul>
</blockquote>
</section><section>
<h2 id="what-are-all-these-tools-pt-2">What are all these tools? (pt. 2)</h2>
<p>(consider reading this page for further details <a href="https://stackoverflow.com/a/41573588">https://stackoverflow.com/a/41573588</a>)</p>
<ol start="4">
<li>
<p><code>virtualenv</code> and <code>venv</code> are tools to create <em>virtual</em> Python installations <em>on the same system</em></p>
<ul>
<li><code>virtualenv</code> is a <em>third-party</em> tool, <code>venv</code> is <em>built-in</em> in Python 3.3 and later</li>
<li>let’s say you have Python <code>v. XXX</code> installed on your system…
<ul>
<li>… these tools let you create other <em>lightweight</em> <strong>copies</strong> of Python <code>v. XXX</code> in other folders
<ul>
<li>the copies are <strong>fresh</strong>, i.e. they <em>no package</em> installed</li>
<li>but one may install <em>different</em> packages in <em>each</em> copy, via <code>pip</code></li>
</ul>
</li>
</ul>
</li>
<li>now you can solve problem <strong>(a)</strong></li>
</ul>
</li>
<li>
<p><code>PyEnv</code> is a tool to manage <em>multiple</em> Python <strong>installations</strong> <em>on the same system</em></p>
<ul>
<li>each installation may use a <em>different version</em> of Python</li>
<li>now you can solve problem <strong>(b)</strong></li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>New problem</strong>: many Python installations on the same system,
<br> each one with a different version of Python, and different packages installed</p>
</blockquote>
<p>recall all the issues we had in previous lectures?</p>
</section><section>
<h2 id="what-are-all-these-tools-pt-3">What are all these tools? (pt. 3)</h2>
<ol start="6">
<li>
<p>Smart and adequate <strong>convention</strong> to work with Python projects: <strong>1-project-1-Python-env</strong></p>
<ul>
<li>each Python project has its <em>own</em> Python environment …
<ul>
<li>be it virtual or not, as far as it uses the <em>same</em> Python version required by that project</li>
</ul>
</li>
<li>… the environment <em>only</em> contains the packages required by that project</li>
</ul>
</li>
<li>
<p>Achieving this requires developers to be <em>disciplined</em> and <em>meticulous</em></p>
<ul>
<li>other than being proficient with the tools above</li>
</ul>
</li>
<li>
<p><code>Poetry</code> is a tool that aims to <em>automate</em> this process</p>
</li>
</ol>

</section>
</section><section>
<h2 id="from-now-on-lets-use-poetry">From now on, let’s use Poetry</h2>
<blockquote>
<p>Poetry is a <em>declarative</em> tool for <strong>dependency management</strong>, <strong>packaging</strong>, and <strong>release</strong> in Python</p>
</blockquote>
<ul>
<li>
<p>It handles both <em>dependencies</em> and <em>dev-dependencies</em></p>
<ul>
<li><em>replacing</em> <code>requirements.txt</code> and <code>requirements-dev.txt</code></li>
</ul>
</li>
<li>
<p>It <em>automates</em> the <strong>1-project-1-Python-env</strong> convention</p>
</li>
<li>
<p>It simplifies the <em>packaging</em> process for the project</p>
</li>
<li>
<p>It simplifies the <em>publication</em> process on PyPI (or other software repositories)</p>
</li>
</ul>
</section><section>
<h2 id="poetrys-canonical-project-structure">Poetry’s canonical project structure</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>root-directory/
</span></span><span style="display:flex;"><span>├── main_package/
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp; ├── __init__.py
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp; ├── sub_module.py
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp; └── sub_package/ 
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp;     ├── __init__.py 
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp;     └── sub_sub_module.py 
</span></span><span style="display:flex;"><span>├── test/
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp; ├── test_something.py
</span></span><span style="display:flex;"><span>│&nbsp;&nbsp; └── test_something_else.py/ 
</span></span><span style="display:flex;"><span>├── pyproject.toml              <span style="color:#8f5902;font-style:italic"># File where project configuration (metadata, dependencies, etc.) is stored</span>
</span></span><span style="display:flex;"><span>├── poetry.toml                 <span style="color:#8f5902;font-style:italic"># File where Poetry configuration is stored</span>
</span></span><span style="display:flex;"><span>├── poetry.lock                 <span style="color:#8f5902;font-style:italic"># File where Poetry locks the dependencies</span>
</span></span><span style="display:flex;"><span>└── README.md
</span></span></code></pre></div><p>Notice that, w.r.t. the canonical project structure we have been using so far:</p>
<ul>
<li>the files <code>requirements.txt</code> and <code>requirements-dev.txt</code> are <strong>not</strong> present any more</li>
<li>the files <code>pyproject.toml</code>, <code>poetry.toml</code>, and <code>poetry.lock</code> are <strong>new entries</strong></li>
<li>the <code>poetry.lock</code> file is generated <em>automatically</em> by Poetry, and you should not edit it</li>
</ul>
</section><section>
<h1 id="example">Example</h1>
<h2 id="the-calculator-repositoryhttpsgithubcomunibo-dtm-secalculator">The <a href="https://github.com/unibo-dtm-se/calculator"><code>calculator</code> repository</a></h2>
<p>TBD</p>
</section><section>
<h2 id="dependency-ranges-and-locking">Dependency ranges and locking</h2>
<ul>
<li>A project can depend on a specific version of a library or on a <em>range</em> of versions</li>
<li>We want to be able to specify ranges, but <em>retain the ability to use an exact version</em></li>
</ul>
<blockquote>
<p>This software is compatible with <code>library</code> version 2.x. For our examples, we used version 2.6.87</p>
</blockquote>
<p>Expressing something like this is done via <strong>dependency locking</strong>:</p>
<ul>
<li>Configure the build file with the range of supported versions</li>
<li>Use the build tool to <em>lock</em> the dependencies (pinpoint their version)
<ul>
<li>In practice, create a lock file where the exact version is explicit</li>
</ul>
</li>
<li>Locking usually also locks the <strong>transitive dependencies</strong>!
<ul>
<li>Once locked, we have a snapshot of a working environment</li>
</ul>
</li>
</ul>
<p><a href="https://python-poetry.org/docs/dependency-specification/">Poetry allows range specifications and locks automatically</a></p>
</section><section>
<h2 id="example-configuration-file">Example configuration file</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">tool</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">poetry</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Packaging information</span>
</span></span><span style="display:flex;"><span><span style="color:#000">name</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"python-finance-plot"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">version</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"0.1.0"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">description</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"Sample application of financial plotting with Python"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">authors</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">"Danilo Pianini &lt;danilo.pianini@unibo.it&gt;"</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">license</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"MIT"</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">tool</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">poetry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">dependencies</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Dependencies</span>
</span></span><span style="display:flex;"><span><span style="color:#000">python</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"^3.9.0"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">matplotlib</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"3.5.1"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pandas_ta</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"0.3.14.b"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pip</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"22.0.4"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">pyqt5</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"5.15.6"</span>
</span></span><span style="display:flex;"><span><span style="color:#000">yfinance</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"0.1.70"</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">tool</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">poetry</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">dev-dependencies</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">build-system</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Implementation details</span>
</span></span><span style="display:flex;"><span><span style="color:#000">requires</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">"poetry-core&gt;=1.0.0"</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">build-backend</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">"poetry.core.masonry.api"</span>
</span></span></code></pre></div>
</section><section>
<h3 id="poetry-initialization">Poetry: initialization</h3>
<p>Poetry provides a built-in tool to initialize a repository</p>
<ul>
<li><code>poetry new project-name</code>
<ul>
<li>Initializes the directory structure</li>
<li>Creates a stub TOML configuration</li>
<li>Alternatively, for existing projects, a <code>poetry init</code> interactive process is available for migration</li>
</ul>
</li>
</ul>
</section><section>
<h3 id="poetry-virtual-environments">Poetry: virtual environments</h3>
<p>Similar to <code>venv</code>, Poetry creates virtual environments (embedding the interpreter, too)</p>
<ul>
<li><code>poetry shell</code>
<ul>
<li>activates the environment</li>
<li>the environment can be deactivated with <code>exit</code></li>
</ul>
</li>
<li><code>poetry env info</code>
<ul>
<li>prints information about the currently activated virtual environment</li>
</ul>
</li>
<li><code>poetry env list</code>
<ul>
<li>lists all the virtual environments associated with the current project</li>
</ul>
</li>
<li><code>poetry use</code> is the subcommand to determine which enviroment to use
<ul>
<li><code>poetry use system</code> picks the python version from the <code>PATH</code></li>
<li><code>poetry use /path/to/python</code> selects an <em>existing</em> version of python</li>
</ul>
</li>
</ul>
</section><section>
<h1 id="lessons-learned">Lessons learned</h1>
<ul>
<li>Building a piece of software is not just writing code</li>
<li>Software requires dependencies</li>
<li>Dependency management is difficult</li>
<li>All components of a runtime are part of the dependencies
<ul>
<li>Including interpreters</li>
</ul>
</li>
<li>Build Reproducibility is paramount</li>
<li>Automatic configuration is desirable</li>
<li>The Python build ecosystem is fragmented
<ul>
<li>Poetry is a modern take on Python dependency management and packaging</li>
<li>PyEnv can be used to let multiple Python versions live together</li>
</ul>
</li>
</ul>
</section>

  


</div>
      

    </div>
<script type="text/javascript" src="/course-slides/reveal-hugo/object-assign.js"></script>

<a href="/course-slides/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"1080","highlight_theme":"github","history":true,"mermaid":[{"gitGraph":{"mainBranchName":"master","rotateCommitLabel":true},"startOnLoad":false,"useMaxWidth":false}],"slide_number":true,"theme":"league","transition":"slide","transition_speed":"fast","width":"1920"}</script>
<script type="application/json" id="reveal-hugo-page-params">null</script>

<script src="/course-slides/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = { 
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>






  

  

  
    
  

  

  

  

  

  

  

  



  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({"gitGraph":{"mainBranchName":"master","rotateCommitLabel":true},"startOnLoad":false,"useMaxWidth":false});

    let render = (event) => {
      let mermaidElems = event.currentSlide.querySelectorAll('.mermaid');
      if (!mermaidElems.length){
          return
      }
      mermaidElems.forEach(mermaidElem => {
          let processed = mermaidElem.getAttribute('data-processed');
          if (!processed){
              
              mermaid.init(undefined, mermaidElem);
          }
      });
    };
    
    render({currentSlide: Reveal.getCurrentSlide()});

    Reveal.on('slidechanged', render);
    Reveal.on('ready', render);
  </script>

    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script>
  if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
      var ytVideos = document.getElementsByTagName("iframe")
      for (let i = 0; i < ytVideos.length; i++) {
          var videoFrame = ytVideos[i]
          var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
          if (isYouTube) {
              console.log(`Removing ${videoFrame.src}`)
              var parent = videoFrame.parentElement
              videoFrame.remove()
              var p = document.createElement('p')
              p.append(
                  document.createTextNode(
                      "There was an embedded video here, but it is disabled in the printed version of the slides."
                  )
              )
              p.append(document.createElement('br'))
              p.append(
                  document.createTextNode(
                      `Visit instead ${
                          videoFrame.src
                      } or ${
                          videoFrame.src.replace(
                              /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                              "https://www.youtube.com/watch?v=$4"
                          )
                      }`
                  )
              )
              parent.appendChild(p)
          }
      }
  }
</script>


    
  

</body></html>