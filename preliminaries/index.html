<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
<title>Preliminary notions for Software Development</title>
<meta name="description" content="Quick recap of notions and technical skills for the course">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="/course-slides/reveal-js/dist/reset.css">
<link rel="stylesheet" href="/course-slides/reveal-js/dist/reveal.css">
  <link rel="stylesheet" href="/course-slides/css/custom-theme.min.3bee906a09133576f8ef092100894160e8353673dfec5c3b5e6c6a2c025152eb.css" id="theme"><link rel="stylesheet" href="/course-slides/highlight-js/github.min.css">
<link rel="stylesheet" href="https://raw.githubusercontent.com/DanySK/css-blur-animation/master/blur.css">
<link href="https://fonts.googleapis.com/css?family=Roboto Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oxygen Mono" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Ubuntu Mono" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<script src="https://kit.fontawesome.com/81ac037be0.js" crossorigin="anonymous"></script>
<script src="https://unibo-dtm-se.github.io/course-slides//plantuml.js"></script>

  </head>
  <body>
    
    <div class="reveal">
      <div class="slides">
  

    <section><h1 id="preliminary-notions-for-software-development">Preliminary notions for Software Development</h1>
<br>
<h2 style="margin-bottom: 0;">Software Engineering</h2>
<h3 id="for-intelligent-distributed-systems"><strong>(for Intelligent Distributed Systems)</strong></h3>
<h4 id="hahahugoshortcode1s1hbhb">A.Y. 2024/2025</h4>
<h5 id="hahahugoshortcode1s2hbhb"><a href="mailto:giovanni.ciatto@unibo.it">Giovanni Ciatto</a></h5>
<br>
<br>
<p>Compiled on: 2025-02-17 ‚Äî <a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> printable version</a></p>
<p><a href="../#/toc"><i class="fa fa-undo" aria-hidden="true"></i> back</a></p>
</section><section>
<h2 id="motivation-and-goals">Motivation and goals</h2>
<ul>
<li>
<p>In order to put everybody on the <em>same page</em>‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ we are going to recall some <em>basic notions</em> and <em>technical aspects</em> related to <strong>software development</strong>, namely:</p>
<ul>
<li>the command line</li>
<li>the anatomy of a software project in Python</li>
<li>the role of modelling in SE</li>
<li>ubiquitous (w.r.t. SE) notions such as interfaces and runtimes</li>
</ul>
</li>
</ul>
<!-- - plus, we will provide practical examples about key concepts such as
    - automated testing
    - deployment, packaging, and release
    - maintenance -->
</section><section>
<h1 id="the-command-line">The command-line</h1>
<p>(a.k.a. the shell, the terminal, the console)</p>
</section><section>
<h2 id="first-contact-with-the-terminal">First contact with the terminal</h2>
<ol>
<li>Open your terminal application
<ul>
<li>Either ‚ÄúPowerShell‚Äù, ‚ÄúCommand Prompt‚Äù, ‚ÄúTerminal‚Äù on Windows</li>
<li>‚ÄúiTerm‚Äù or ‚ÄúTerminal‚Äù on macOS</li>
<li>‚ÄúKonsole‚Äù or ‚ÄúTerminal‚Äù on Linux</li>
</ul>
</li>
</ol>
<blockquote>
<p>The terminal is a text-based interface to the operative system (OS).
Each terminal application is executing a <strong>shell</strong> program</p></blockquote>
<blockquote>
<p>The shell is a program that has a simple job: <strong>REPL</strong> (Read, Evaluate, Print, Loop)</p>
<ol>
<li>it <strong>reads</strong> a <em>command</em> from the user</li>
<li>it <strong>evaluates</strong> the command</li>
<li>it <strong>prints</strong> the result</li>
<li>it <strong>loops</strong> back to step 1, unless the user explicitly asks to <strong>exit</strong></li>
</ol></blockquote>
<ol start="2">
<li>Write a few simple commands and observe the effect
<ul>
<li><code>ls</code> (or <code>dir</code> on Windows): should list the files in the current directory</li>
<li><code>echo "Hello World"</code>: should print ‚ÄúHello World‚Äù on the screen</li>
<li><code>exit</code>: should close the shell (and the terminal application, if it‚Äôs the only shell)</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="why-the-terminal">Why the terminal?</h2>
<p>Mostly, to look hacker-ish in the eyes of normal people üòé</p>
<p>(just kidding)</p>
<br>
<ul>
<li>
<p>The terminal is a powerful tool for software development</p>
</li>
<li>
<p>It allows developers to interact with the OS in a precise, minimal, and efficient way</p>
</li>
<li>
<p>Most operations in software development can, and often should, be performed from the terminal</p>
</li>
</ul>
<blockquote>
<p>The terminal may accept commands:</p>
<ul>
<li><strong>interactively</strong>, from the user</li>
<li>from a <strong>script</strong>, which is a file containing commands to be executed by a shell</li>
</ul></blockquote>
</section><section>
<h2 id="developers-are-inherently-lazy">Developers are inherently lazy</h2>
<p>Developers‚Äô mindset:</p>
<blockquote>
<p>If a <strong>person</strong> can do it <em>manually</em> via the shell, then a <strong>script</strong> can do it <em>automatically</em></p></blockquote>
<blockquote>
<p>If a <strong>script</strong> can do it <em>automatically</em>, then that‚Äôs the way of doing it</p></blockquote>
<ul>
<li>these are the basic principles behind <strong>automation</strong></li>
<li>a part from <em>time-saving</em> and <em>precision</em> in execution, automation enables <strong>reproducibility</strong> of the process
<ol>
<li>experts can <em>distill</em> their <em>operational knowledge</em> into scripts</li>
<li>scripts can be <em>called</em> (i.e. invoked, executed) by non-experts</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="to-automate-or-not-to-automate">To automate or not to automate?</h2>
<p>Beware, ‚Äòcause scripts are <strong>software</strong> too, and they require engineering:</p>
<p><img src="https://imgs.xkcd.com/comics/automation.png" alt="A comic making fun of the excess of automation"></p>
<p><a href="https://xkcd.com/1319/">https://xkcd.com/1319/</a></p>
<br>
<ul>
<li>There is an implict <strong>trade-off</strong> between
<ol>
<li>the time <em>spent</em> to automate a task (i.e. <strong>coding</strong>)</li>
<li>and the time <em>saved</em> w.r.t. doing the task <strong>manually</strong></li>
</ol>
</li>
</ul>
<p>This is not really the case of everyday programming tasks, but let‚Äôs keep this in mind</p>
</section><section>
<h2 id="why-the-terminal-in-this-course">Why the terminal in this course?</h2>
<ul>
<li>
<p>We are going to use the terminal for:</p>
<ul>
<li>running Python scripts</li>
<li>managing Python projects (version tracking, tests, releases, etc.)</li>
</ul>
</li>
<li>
<p>Understaing how to do stuff via the terminal is a <em>reusable</em> <strong>skill</strong></p>
<ul>
<li>while IDE and GUIs evolve quickly, and every team has its own preferences‚Ä¶</li>
<li>command line tools are very stable and widely adopted</li>
</ul>
</li>
<li>
<p>We encourage you to read the following lectures from The MIT‚Äôs <a href="https://missing.csail.mit.edu/">‚ÄúMissing Semester of Your CS Education‚Äù</a>:</p>
<ol>
<li><a href="https://missing.csail.mit.edu/2020/course-shell/">The shell</a></li>
<li><a href="https://missing.csail.mit.edu/2020/shell-tools/">Shell tools</a></li>
<li><a href="https://missing.csail.mit.edu/2020/command-line/">Commnad-line environment</a></li>
</ol>
</li>
</ul>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-1">Stuff you need to know about the shell (pt. 1)</h2>
<ul>
<li>There exist essentially two sorts of shells:
<ol>
<li>the Unix-like shells (e.g., <code>bash</code>, <code>zsh</code>, <code>fish</code>, <code>ksh</code>, <code>csh</code>, <code>tcsh</code>, etc.) used by Linux and macOS
<ul>
<li>and, to some extent, by Windows</li>
</ul>
</li>
<li>the Windows shells (e.g., <code>cmd</code>, <code>PowerShell</code>) which are different from the Unix-like ones, and from each other</li>
</ol>
</li>
</ul>
<blockquote>
<p>Whenever working with the terminal, first thing to do is to understand <em>which</em> shell you are using</p>
<ol>
<li>if you‚Äôre on Linux, you‚Äôre probably using <code>bash</code> or <code>zsh</code></li>
<li>if you‚Äôre on macOS, you‚Äôre probably using <code>zsh</code> or <code>bash</code></li>
<li>if you‚Äôre on Windows, you‚Äôre probably using
<ul>
<li><code>cmd</code> if you opened the Command Prompt application</li>
<li><code>PowerShell</code> is you opened the PowerShell application</li>
<li><code>bash</code> if are using the Windows Subsystem for Linux (WSL) or Git Bash</li>
</ul>
</li>
</ol></blockquote>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-2">Stuff you need to know about the shell (pt. 2)</h2>
<ul>
<li>
<p>Whenver you open a shell, the shell is ‚Äúin‚Äù a directory, which is called the <strong>current working directory</strong> (CWD)</p>
<ul>
<li>by default, commands <em>operate</em> on the CWD (i.e. they read and write files in the CWD)</li>
<li>that directory should be shown <em>somewhere</em> in the shell‚Äôs <em>prompt</em></li>
<li>if not shown, you can always <em>ask</em> the shell to show it, via some command</li>
</ul>
</li>
<li>
<p>If one wants to operate on a <em>file</em> in a <em>different directory</em>‚Ä¶</p>
<ul>
<li>
<p>‚Ä¶ they have to <em>change</em> the CWD</p>
<ul>
<li>this is done via the <code>cd</code> command (change directory)</li>
</ul>
</li>
<li>
<p>‚Ä¶ without changing the CWD, they have to <em>specify</em> the <strong>path</strong> to the file</p>
<ul>
<li>this is done via the <em>absolute</em> or <em>relative</em> <strong>path</strong> to the file</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-3">Stuff you need to know about the shell (pt. 3)</h2>
<p>A <strong>path</strong> is a string that represents the location of a file or a directory in the <strong>file system</strong></p>
<blockquote>
<p><strong>Beware</strong>: path-separator is different among Windows (<code>\</code>) and other OS (<code>/</code>),</p>
<p>and <strong>we only use <code>/</code> in the slides</strong></p></blockquote>
<ul>
<li>
<p>A <strong>relative path</strong> is a path that is relative to the CWD</p>
<ul>
<li>e.g., <code>./file.txt</code> refers to a file named <code>file.txt</code> in the CWD</li>
<li>e.g., <code>../file.txt</code> refers to a file named <code>file.txt</code> in the <strong>parent directory</strong> of the CWD</li>
<li>e.g., <code>./dir/file.txt</code> refers to a file named <code>file.txt</code> in a sub-directory of CWD, named <code>dir</code></li>
</ul>
</li>
<li>
<p>An <strong>absolute path</strong> is a path that starts from the <strong>root</strong> of the file system</p>
<ul>
<li>on <strong>Unix</strong>-like systems, the <em>root is <code>/</code></em>
<ul>
<li>e.g. <code>/home/giovanni/file.txt</code> refers to a file named <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory on <strong>Linux</strong></li>
<li>e.g. <code>/Users/giovanni/file.txt</code> refers to a file named <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory on <strong>macOS</strong></li>
</ul>
</li>
<li>on <strong>Windows</strong>, there are <em>several roots</em>, one per <strong>drive</strong> (e.g., <code>C:</code>, <code>D:</code>, etc.)
<ul>
<li>e.g. <code>C:\Users\giovanni\file.txt</code> refers file <code>file.txt</code> in <code>giovanni</code>‚Äôs home directory, <em>on drive <code>C:</code></em></li>
<li>e.g. <code>D:\Data\Photos\profile.jpg</code> refers file <code>profile.jpg</code> in the <code>Data\Photos</code> directory, <em>on drive <code>D:</code></em></li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<!-- this file includes generated content. Do not edit. Edit content/preliminaries/_generator.md, instead. -->
<h2 id="terminal-cheat-sheet">Terminal cheat sheet</h2>
<table>
  <thead>
      <tr>
          <th>Operation</th>
          <th><i class="fab fa-linux"></i> <i class="fab fa-apple"></i> *nix</th>
          <th><i class="fab fa-windows"></i> win</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Print the current directory location</td>
          <td><code>pwd</code></td>
          <td><code>echo %cd%</code></td>
      </tr>
      <tr>
          <td>Remove the file <code>foo</code> (does not work with directories)</td>
          <td><code>rm foo</code></td>
          <td><code>del foo</code></td>
      </tr>
      <tr>
          <td>Remove directory <code>bar</code></td>
          <td><code>rm -r bar</code></td>
          <td><code>del bar</code></td>
      </tr>
      <tr>
          <td>Change disk (e.g., switch to <code>D:</code>)</td>
          <td>n.a., single root (<code>/</code>)</td>
          <td><code>D:</code></td>
      </tr>
      <tr>
          <td>Move to the subdirectory <code>baz</code></td>
          <td><code>cd baz</code></td>
          <td><code>cd baz</code></td>
      </tr>
      <tr>
          <td>Move to the parent directory</td>
          <td><code>cd ..</code></td>
          <td><code>cd..</code></td>
      </tr>
      <tr>
          <td>Move (rename) file <code>foo</code> to <code>baz</code></td>
          <td><code>mv foo baz</code></td>
          <td><code>move foo baz</code></td>
      </tr>
      <tr>
          <td>Copy file <code>foo</code> to <code>baz</code></td>
          <td><code>cp foo baz</code></td>
          <td><code>copy foo baz</code></td>
      </tr>
      <tr>
          <td>Create a directory named <code>bar</code></td>
          <td><code>mkdir bar</code></td>
          <td><code>md bar</code></td>
      </tr>
  </tbody>
</table>
</section><section>
<h2 id="stuff-you-need-to-know-about-the-shell-pt-4">Stuff you need to know about the shell (pt. 4)</h2>
<ul>
<li>
<p>Most commands have <strong>arguments</strong></p>
<ul>
<li>roughly, whatever you can write <em>after the command name</em> is an argument</li>
</ul>
</li>
<li>
<p>If you think of commands as <em>functions</em>, then arguments are the <em>parameters</em> of the function</p>
<ul>
<li>and the command is the <em>function name</em></li>
<li>and the printed output is the <em>return value</em></li>
<li>simply, no parentheses are required by default for ‚Äúinvoking‚Äù the function</li>
</ul>
</li>
<li>
<p>Consider the <code>ls</code> command</p>
<ul>
<li><code>ls</code> lists the files in the CWD, <em>as an inline list</em></li>
<li><code>ls -l</code> lists the files in the CWD, <em>as a detailed list</em></li>
<li><code>ls -l /path/to/dir</code> lists the files in the <code>/path/to/dir</code> directory, <em>as a detailed list</em></li>
</ul>
</li>
</ul>
</section><section>
<h2 id="how-the-hell-can-i-memorise-all-these-commands">How the hell can I memorise all these commands?</h2>
<p>You should not.</p>
<ul>
<li>
<p>Just try to grasp the basic idea of how shells work</p>
</li>
<li>
<p>Just memorise that <strong>there exist a way to do <code>X</code></strong> via the shell</p>
<ul>
<li>and all relevant <code>X</code>s</li>
</ul>
</li>
<li>
<p>You will eventually memorise the syntax of most frequent commands</p>
</li>
<li>
<p>For the rest, you can always look up the documentation</p>
<ul>
<li>or the Web, or ask someone, there including ChatGPT or StackOverflow
<ul>
<li>but please, <strong>do not copy&amp;paste code that you do not understand</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Most commands support asking for help when one does not remeber the syntax</p>
<ul>
<li>e.g. <code>COMMAND_NAME --help</code> or <code>COMMAND_NAME -h</code> mostly used on Unix-like systems</li>
<li>e.g. <code>man COMMAND_NAME</code> mostly used on Unix-like systems (man is for <em>‚Äúmanual‚Äù</em>)</li>
<li>e.g. <code>COMMAND_NAME /?</code> mostly used on Windows</li>
<li>e.g. <code>Get-Help COMMAND_NAME</code> mostly used on Windows</li>
</ul>
</li>
</ul>
<blockquote>
<p>Do not waste your memory, learn how to look up the documentation instead</p></blockquote>
</section><section>
<h2 id="about-interactive-commands-pt-1">About interactive commands (pt. 1)</h2>
<ul>
<li>
<p>Some commands are <strong>interactive</strong></p>
<ul>
<li>when you start them, they to <em>not</em> <strong>terminate immediately</strong></li>
<li>instead, they <em>wait for user input</em></li>
</ul>
</li>
<li>
<p>In this case we say that the command is just <em>starting</em> a <strong>process</strong></p>
<ul>
<li>‚Äúprocess‚Äù is a technical term for a <em>program that is running</em></li>
<li>an <strong>app</strong> is commonly a process attached to a <strong>graphical user interace</strong> (<em>GUI</em>) shown on the screen</li>
</ul>
</li>
<li>
<p>There is <em>no difference</em> among <strong>interactive</strong> and <strong>non</strong>-<em>interactive</em> processes, <em>for the shell</em></p>
<ol>
<li>a command is used to <em>start</em> the process</li>
<li>the command will <em>stay alive</em>,
<ul>
<li>and possibly consume the user‚Äôs <em>input</em></li>
<li>and possibly produce some <em>output</em></li>
</ul>
</li>
<li>for some reason, the process may eventually <strong>terminate</strong>
<ul>
<li>e.g., because of some input from the user, some error, or some condition met</li>
</ul>
</li>
<li>when that the case, <strong>control</strong> is returned to <em>the shell</em>
<ul>
<li>which will ask for more commands, as usual</li>
</ul>
</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="about-interactive-commands-pt-2">About interactive commands (pt. 2)</h2>
<ul>
<li>
<p>Upon termination, each command returns an <strong>exit code</strong> (i.e. a <em>non-negative integer</em>)</p>
<ul>
<li><code>0</code> means <em>‚Äúeverything went fine‚Äù</em></li>
<li>any other number means <em>‚Äúsomething went wrong‚Äù</em> (each number is a different <em>error code</em>)</li>
<li>so the shell always knows if the <em>last command was successful</em> or not</li>
</ul>
</li>
<li>
<p>When using the shell <em>interactively</em>:</p>
<ul>
<li>pay attention to whether <em>the last command you wrote</em> was <strong>successful</strong> or not</li>
</ul>
</li>
<li>
<p>When programming the shell <em>in a script</em>:</p>
<ul>
<li>you can check the exit code of the last command via the special variable <code>$?</code></li>
<li>you can use the <code>if</code> statement to check the exit code and act accordingly</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-1">About interactive processes (pt. 1)</h2>
<p>In the eyes of the OS, any process can be modelled as follows:</p>
<p><img src="./process.png" alt="A process has three default streams: input, output, and error"></p>
<ul>
<li>
<p>i.e. a black box</p>
<ul>
<li>consuming a <em>stream</em> of <em>input data</em> from the <strong>standard input</strong> channel (<code>stdin</code>)</li>
<li>producing a <em>stream</em> of <em>output data</em> to the <strong>standard output</strong> channel (<code>stdout</code>)</li>
<li>and, possibly, producing a <em>stream</em> of <em>error data</em> to the <strong>standard error</strong> stream (<code>stderr</code>)</li>
</ul>
</li>
<li>
<p>more channels may be opened by the process, e.g. when <em>reading</em> / <em>writing</em> <strong>files</strong></p>
</li>
</ul>
<blockquote>
<p>a <strong>stream</strong> is an <em>unlimited</em> sequence of <em>bytes</em> (or <em>characters</em>)</p></blockquote>
<ul>
<li>this may represent <strong>anything</strong> having a digital representation (e.g. a file, a network connection, a device, etc.)</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-2">About interactive processes (pt. 2)</h2>
<p>Most commonly, for <strong>interactive</strong> processes, the situation is as follows:</p>
<!-- ![Default streams of each processes are connected to the terminal by default](./process-terminal.png) -->
<img src="./process-terminal.png" style="
    
    height: 30vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
">

<ul>
<li>all three streams are connected to the terminal by default
<ul>
<li>so the process <em>reads</em> input from the keyboard</li>
<li>and <em>writes</em> output to the terminal</li>
<li>and <em>writes</em> errors to the terminal (sometimes, errors are <em>colored</em> differently)</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-interactive-processes-pt-3">About interactive processes (pt. 3)</h2>
<h3 id="example-the-nano-command">Example: the <code>nano</code> command</h3>
<blockquote>
<p><code>nano</code> is a simple, interactive, text editor for the terminal</p></blockquote>
<ol>
<li>
<p>Open a shell, and run the following command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>nano myfile.txt
</span></span></code></pre></div></li>
<li>
<p>This should transform the terminal into a text editor, editing the file <code>myfile.txt</code></p>
<ul>
<li>you can write some text in there, e.g. <code>Hello World</code></li>
</ul>
</li>
<li>
<p>Then, press <kbd>Ctrl</kbd>+<kbd>O</kbd> to save the file</p>
<ul>
<li>you will be asked to confirm the file name, press <kbd>Enter</kbd></li>
</ul>
</li>
<li>
<p>Then, press <kbd>Ctrl</kbd>+<kbd>X</kbd> to exit the editor</p>
</li>
<li>
<p>You should be back to the shell, and the file <code>myfile.txt</code> should have been created</p>
<ul>
<li>you can verify that, via the <code>ls</code> command</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="the-python-command">The Python command</h2>
<ul>
<li>
<p>Python is a programming language, namely, the reference programming language we use in the course</p>
</li>
<li>
<p>We will operate Python stuff via the terminal, using the <code>python</code> <strong>command</strong></p>
</li>
<li>
<p>The command‚Äôs behaviour is very different depending on which and how many arguments are passed:</p>
<ul>
<li><code>python</code> <em>with no arguments</em> starts an <strong>interactive</strong> <em>Python shell</em>
<ul>
<li>i.e. yet another shell, but using the <em>Python syntax</em></li>
</ul>
</li>
<li><code>python FILENAME</code> starts a <em>Python process</em> that <em>executes</em> the <em>Python code</em> in the <strong>file</strong> <code>FILENAME</code></li>
<li><code>python -m MODULE</code> starts a <em>Python process</em> that <em>executes</em> the <strong>module</strong> named <code>MODULE</code>
<ul>
<li>we‚Äôll see what a <em>module</em> is, later in the course</li>
</ul>
</li>
<li><code>python -c "CODE"</code> starts a <em>Python process</em> that <em>executes</em> the <em>Python code</em> in the <strong>string</strong> <code>"CODE"</code>
<ul>
<li>e.g. <code>python -c "print('Hello World')"</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Use <code>python --help</code> to inspect the <em>help</em> of the <code>python</code> command, and see all the options</p>
</li>
<li>
<p>When using Python, always remember to check the <em>version</em> of the Python interpreter you are using</p>
<ul>
<li><code>python --version</code> or <code>python -V</code></li>
</ul>
</li>
</ul>
</section><section>
<h1 id="code-and-code-organization">Code and code organization</h1>
<p>(in Python)</p>
</section><section>
<h2 id="running-example-pt-1">Running example (pt. 1)</h2>
<p>Let‚Äôs say we are going to build a simple <em>calculator</em> app, in Python</p>
<p>Using <a href="https://kivy.org/">Kivy</a> for the GUI, we may easily build the following app:</p>
<img src="./calculator.png" style="
    
    height: 30vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
">

</section><section>
<h2 id="running-example-pt-2">Running example (pt. 2)</h2>
<p>The source code for such application is available here:</p>
<p><a href="https://github.com/unibo-dtm-se/compact-calculator">https://github.com/unibo-dtm-se/compact-calculator</a></p>
<h3 id="to-do-list">TO-DO list</h3>
<ol>
<li>Download the code by clicking on the <em>green ‚ÄúCode‚Äù button</em>, and then <strong>‚ÄúDownload ZIP‚Äù</strong></li>
<li>Unpack the archive in a directory of your choice</li>
<li>Open the directory in some lightweight IDE like <strong>VS Code</strong>
<ul>
<li>possibly exploit the <strong>integrated terminal</strong></li>
</ul>
</li>
<li>Inspect the content of the directory (e.g. via the terminal, using the <code>ls -la</code> command)
<ul>
<li>you should notice 4 files:
<ul>
<li><code>.python-version</code> (hidden on Unix) <em>textual</em> declaration of the <em>Python version</em> <strong>required</strong> by the application</li>
<li><code>calculator.py</code>: the <em>source code</em> of the application</li>
<li><code>requirements.txt</code>: a file containing the <em>dependencies</em> of the application</li>
<li><code>README.md</code>: a file containing the some <em>notes</em> about of the application</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="running-example-pt-3">Running example (pt. 3)</h2>
<ol start="4">
<li>
<p>Notice that the <code>calculator.py</code> file is a <em>Python script</em> that contains <em>only</em> <strong>46 lines of code</strong></p>
</li>
<li>
<p>Have a look to the source code of the <code>calculator.py</code> file</p>
<ul>
<li>do you recognize any structure in the code?</li>
<li>do you have any clue about what‚Äôs going on in the code?</li>
</ul>
</li>
<li>
<p>Let‚Äôs try to run the application</p>
<ol>
<li>open a terminal in the directory of the application (the VS Code is fine)</li>
<li>run the following command
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python calculator.py
</span></span></code></pre></div></li>
<li>you may observe the following output in the terminal:
<pre tabindex="0"><code>Traceback (most recent call last):
File "/path/to/your/directory/calculator.py", line 1, in &lt;module&gt;
    from kivy.app import App
ModuleNotFoundError: No module named 'kivy'
</code></pre></li>
</ol>
</li>
<li>
<p>The issue here is that our application <strong>depends on</strong> some <em>third-party</em> <strong>library</strong>, namely <a href="https://kivy.org/">Kivy</a></p>
<ul>
<li><strong>third-party</strong> $\approx$ <em>not written by us</em> + <em>not included Python</em> by default</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="running-example-pt-4">Running example (pt. 4)</h2>
<ol start="8">
<li>
<p>The solution is pretty simple: let‚Äôs <em>install</em> the missing <strong>dependency</strong></p>
<ul>
<li>we can do that via the <code>pip</code> command, which is the <em>Python package manager</em>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>pip install kivy
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>After the installation, we can try to run the application again</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python calculator.py
</span></span></code></pre></div><p>this time, the application should start, and you should see the calculator Window</p>
</li>
<li>
<p>play a bit with the application</p>
<ul>
<li>ensure it works as expected</li>
<li>finally, close the Window, and notice that control is returned to the terminal</li>
</ul>
</li>
<li>
<p>either in the terminal (<code>ls -la</code>), or in the GUI, you may notice a new <em>sub-directory</em> named <code>__pycache__</code></p>
<ul>
<li>with a file named <code>calculator.cpython-3XXX</code><strong><code>.pyc</code></strong> (or similar) in it
<ul>
<li>that is a <strong>compilation</strong> <em>cache</em> file, generated by the Python interpreter, for our application</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="many-hidden-concepts-in-this-example">Many hidden concepts in this example</h2>
<ol>
<li>
<p>the notion of <strong>library</strong></p>
<ul>
<li>i.e. a <em>collection</em> of <strong>pre-cooked software</strong> be <em>reused</em> in <em>different</em> applications</li>
</ul>
</li>
<li>
<p>the notion of <strong>dependency</strong></p>
<ul>
<li>i.e. a piece of <em>software</em> that is <em>required</em> by another piece of software to <em>run</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>runtime</strong></p>
<ul>
<li>i.e. the <em>environment</em> in which a <em>piece</em> of software is <em>executed</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>package manager</strong></p>
<ul>
<li>i.e. a <em>tool</em> that <em>automates</em> the <strong>installation</strong> of <em>dependencies</em> into a <em>runtime</em></li>
</ul>
</li>
<li>
<p>the notion of <strong>compilation</strong></p>
<ul>
<li>i.e. the <em>process</em> of <em>translating</em> a <em>source code</em> into a <em>machine code</em> that can be <em>executed</em></li>
</ul>
</li>
</ol>
</section><section>
<h2 id="compilation-vs-interpretation-of-programs">Compilation vs. Interpretation of Programs</h2>
<ul>
<li>
<p>A program is a <strong>set of instructions</strong> that a <em>computer</em> can <strong>execute</strong></p>
</li>
<li>
<p>Computers nowadays follow the <a href="https://en.wikipedia.org/wiki/Von_Neumann_architecture">Von Neumann architecture</a></p>
<ul>
<li>put it simply, they follow a <em>list</em> of <strong>instructions</strong>, from some <strong>instruction language</strong>
<ul>
<li>modern CPU producers (Intel, AMD, ARM, etc.) constuct CPU which comply to well known instruction sets (e.g. <code>x86</code>, <code>amd64</code>, <code>arm</code>, etc.)
‚Äî different architectures have different instruction sets</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Programming languages are meant to be <strong>understood</strong> by <em>humans</em> (<em>not</em> by computers)</p>
</li>
<li>
<p>To make a <em>computer</em> understand a <em>program</em>, the <em>program</em> must be <strong>translated</strong> into <em>machine code</em></p>
<ul>
<li>i.e. a list of instructions in the <em>instruction language</em> of that computer‚Äôs <em>CPU</em></li>
</ul>
</li>
<li>
<p>The <strong>translation</strong> procedure is <em>hardware-dependent</em>, and it may vary <em>among OS</em></p>
<ul>
<li>to generalise, we say the translation procedure is <strong>platform-dependent</strong></li>
</ul>
</li>
<li>
<p>There are two main ways to <em>translate</em> a <em>program</em> into <em>machine code</em>:</p>
<ol>
<li><strong>compilation</strong>: the program is translated into an <em>executable</em>, via some <strong>compiler</strong>, and then executed</li>
<li><strong>interpretation</strong>: the program is read by an <strong>interpreter</strong> (i.e. an <em>executable</em>), which <em>executes</em> it</li>
</ol>
</li>
<li>
<p>The result is the same (the program is executed, i.e. the computer follows the instructions)</p>
<ul>
<li>but the <em>implications</em> are different</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="compilation-vs-interpretation-of-programs-pt-2">Compilation vs. Interpretation of Programs (pt. 2)</h2>
<ul>
<li>
<p>Compilation implies:</p>
<ol>
<li>a <strong>compiler</strong> should be created <em>for each</em> target platform</li>
<li>each software project should be <strong>compiled</strong>, <em>for each</em> target platform, <em>before</em> being executed</li>
<li>execution is potentially <em>faster</em>, as the <em>machine code</em> is <em>optimised</em> for the target CPU
<ul>
<li>but higher speed is not guaranteed, and it may be <em>negligible</em> in many cases</li>
<li>but many application do not require high-speed execution</li>
</ul>
</li>
<li>the compiler may spot some <em>errors</em> in the program <strong>before</strong> it is executed</li>
</ol>
</li>
<li>
<p>Interpretation implies:</p>
<ol>
<li>an <strong>interpreter</strong> should be created <em>for each</em> target platform</li>
<li>the software can be executed <strong>as is</strong> on all supported platforms
<ul>
<li>one less step in the workflow!</li>
</ul>
</li>
<li>execution is potentially <em>slower</em>, as the interpreter translates code <em>on the fly</em>
<ul>
<li>but the write-test-debug cycle is potentially <em>faster</em></li>
</ul>
</li>
<li>the programmer may only spot <em>errors</em> in the program <strong>after</strong> it is executed</li>
</ol>
</li>
<li>
<p>Historically, <em>programming languages</em> have been <strong>categorised</strong> as <em>either compiled or interpreted</em></p>
<ul>
<li>C, C++, Rust, Go, etc. are <em>compiled</em> languages</li>
<li>Ruby, JavaScript, etc. are <em>interpreted</em> languages</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="compilation-vs-interpretation-of-programs-pt-3">Compilation vs. Interpretation of Programs (pt. 3)</h2>
<ul>
<li>
<p>Nowadays, the <em>distinction</em> is <em>blurred</em></p>
<ul>
<li>many languages are <em>both</em> compiled and interpreted, there including <em>Python</em>, and <em>Java</em>
<ol>
<li>on the surface, they are <em>interpreted</em></li>
<li>but the interpreter <em>compiles</em> the code <em>on the fly</em>‚Ä¶</li>
<li>and <strong>saves</strong> the compiled version for later <em>re-use</em></li>
</ol>
</li>
</ul>
</li>
<li>
<p>As always, mixing opposite approaches may lead to the <em>best of both worlds</em></p>
<ul>
<li>e.g. the <em>interpreter</em> may spot errors in the program before it is executed</li>
<li>e.g. in then interpretation and compilation are mixed, the <em>interpreter</em> can <em>optimise</em> the <em>machine code</em> in a very fine grained way</li>
</ul>
</li>
<li>
<p>The idea of <strong>saving</strong> a <em>hard-to-achieve</em> result for <em>later re-use</em> is called <strong>caching</strong></p>
<ul>
<li>and it is common trick in <em>software development</em></li>
</ul>
</li>
<li>
<p>The CPython interpreter (i.e. the <em>reference</em> Python implementaton) adopts a strategy of this sort</p>
<ul>
<li>the <strong>.pyc</strong> files you met before, are the <strong>cache files</strong> produced by the Python interpreter
<ul>
<li>upon <em>first</em> <strong>succesful</strong> execution of a script</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="libraries-pt-1">Libraries (pt. 1)</h2>
<ul>
<li>
<p>Basically no programmer ever writes an entire application <strong>from scratch</strong></p>
<ul>
<li>virtually all programmers <em>re-use</em> someone else‚Äôs code to do their job</li>
</ul>
</li>
<li>
<p>One key principle in SE has always been:</p>
</li>
</ul>
<blockquote>
<p>Don‚Äôt reinvent the wheel</p></blockquote>
<ul>
<li>
<p>SE is essentially about how to write <em>good</em> code, which works well, and <strong>can be reused in the future</strong></p>
<ol>
<li>let‚Äôs design software to be <em>general</em></li>
<li>let‚Äôs write the code to <em>work well</em></li>
<li>let‚Äôs give it a <em>name</em> and clearly <em>document</em> how it works (input, output, etc.)</li>
<li>let‚Äôs make it <em>reusable</em>, i.e. <em>referenceable</em> (<strong>callable</strong>) by other software</li>
</ol>
</li>
<li>
<p>Collections of <em>reusable</em> code are called <strong>libraries</strong></p>
</li>
</ul>
</section><section>
<h2 id="libraries-pt-2">Libraries (pt. 2)</h2>
<ul>
<li>
<p>All programming languages have a <em>standard library</em>‚Ä¶</p>
<ul>
<li>i.e. a collection of <em>reusable</em> code that comes with the language, by default
<ul>
<li>e.g. the <code>math</code> module in Python, the <code>java.util</code> package in Java, etc.</li>
<li>BTW, Python has one of the <em>richest</em> standard libraries among programming languages</li>
</ul>
</li>
<li>most commonly, <em>any two versions</em> of a programming language would have a <em>different</em> standard library
<ul>
<li>the syntax of the language may not even change</li>
</ul>
</li>
</ul>
</li>
<li>
<p>‚Ä¶ plus some mechanism to <em>install</em> and <em>import</em> <strong>third-party</strong> libraries</p>
<ul>
<li>e.g., in Python, the <code>pip</code> command is used to install third-party libraries</li>
<li>e.g., in Python, the <code>import</code> statement is used to import libraries in the script
<ul>
<li>upon import, the difference among <em>standard</em> and <em>third-party</em> libraries is <em>irrelevant</em></li>
</ul>
</li>
</ul>
</li>
<li>
<p>The consequences of this ‚Äúlibrary‚Äù idea are manifold</p>
<ul>
<li>what libraries are available for Python program to use?</li>
<li>what third-party libraries can one install?</li>
<li>what‚Äôs the impact of using a third-party library for my application?</li>
<li>how can one write a library that can be reused by others?
<ul>
<li>why should one do that?</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="runtime-pt-1">Runtime (pt. 1)</h2>
<ul>
<li>
<p>The <strong>runtime</strong> is the <strong>environment</strong> in which a <em>piece</em> of software is <em>executed</em></p>
<ul>
<li>not to be confused with <strong>run-time</strong>, which is the <em>time</em> when the <em>software</em> is <em>executed</em></li>
</ul>
<img src="./fuck-logic.png" style="
        
        height: 10vh;
        max-width: 95vw;
        max-height: 80vh;
        object-fit: contain;
    ">

</li>
</ul>
<blockquote>
<p><strong>Runtime</strong> of a program $\approx$ jargon for ‚Äúthe <em>set of</em> <strong>libraries</strong> actually available for that program at run-time‚Äù</p></blockquote>
<ul>
<li>this commonly includes:
<ol>
<li>the <em>standard library</em> of the interpreter executing the
<ul>
<li>e.g. <strong>Python 3.11</strong>‚Äôs standard library for our <em>calculator</em> application</li>
</ul>
</li>
<li>any <em>third-party</em> library installed onto that interpreter
<ul>
<li>e.g. <strong>Kivy</strong> for our <em>calculator</em> application</li>
</ul>
</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="dependencies-pt-1">Dependencies (pt. 1)</h2>
<ul>
<li>
<p>Developers <em>exploit libraries</em> produced by others to <em>avoid</em> <strong>wasting time</strong> reinventing the wheel</p>
</li>
<li>
<p>The reasoning is more or less as follows:</p>
<ol>
<li>one needs to realise some software for functionality <strong>$F$</strong></li>
<li>writing the code for <strong>$F$</strong> requires some effort <strong>$E_{scratch} &gt; 0$</strong></li>
<li>there exist some library <strong>$L$</strong> which reduces the effort to <strong>$0 &lt; E_{use} &lt; E_{scratch}$</strong></li>
<li>installing the library requires some effort <strong>$E_{install} &gt; 0$</strong></li>
<li>learning how to use the library requires some effort <strong>$E_{learn} &gt; 0$</strong></li>
<li>in the likely case that <strong>$E_{install} + E_{learn} + E_{use} &lt; E_{scratch}$</strong>, one should use the library</li>
</ol>
</li>
</ul>
<br>
<blockquote>
<p>A <strong>dependency</strong> among some <em>software</em> <strong>$S$</strong> and some <em>other software</em> <strong>$L$</strong></p>
<p>occurs when <strong>$S$</strong> <em>requires</em> <strong>$L$</strong> to <em>work</em></p></blockquote>
<ul>
<li><strong>requires</strong> $\approx$ <strong>$S$</strong> needs <strong>$L$</strong> to be part of its runtime to be <em>executed</em></li>
<li>this is commonly the result of the reasoning above</li>
<li>for instance, the <em>calculator</em> application <strong>depends on</strong> the <em>Kivy</em> library, and on the <em>Python 3.11</em> standard library</li>
</ul>
</section><section>
<h2 id="dependencies-pt-2">Dependencies (pt. 2)</h2>
<p>Some definitions related to the notion of <strong>dependency</strong>:</p>
<blockquote>
<p><strong>Transitive dependency</strong>: if <strong>$S$</strong> depends on <strong>$L$</strong>, and <strong>$L$</strong> depends on <strong>$M$</strong>, then <strong>$S$</strong> <em>transitively</em> depends on <strong>$M$</strong></p></blockquote>
<ul>
<li>non-transitive dependencies are called <strong>direct</strong> dependencies</li>
</ul>
</section><section>
<h2 id="dependencies-pt-3">Dependencies (pt. 3)</h2>
<blockquote>
<p><strong>Dependency graph</strong> of a software <strong>$S$</strong>: the graph spawned by all the dependencies (direct or transitive) depedencies of <strong>$S$</strong></p></blockquote>
<ul>
<li>e.g. the dependency graph of our <em>calculator</em> application includes <em>Kivy</em> and <em>Python 3.11</em> standard library, and all transitive depedencies of <em>Kivy</em>:
<pre tabindex="0"><code>calculator.py
‚îú‚îÄ‚îÄ Python 3.11.7
‚îî‚îÄ‚îÄ kivy 2.3.0
    ‚îú‚îÄ‚îÄ docutils *
    ‚îú‚îÄ‚îÄ kivy-deps-angle &gt;=0.4.0,&lt;0.5.0
    ‚îú‚îÄ‚îÄ kivy-deps-glew &gt;=0.3.1,&lt;0.4.0
    ‚îú‚îÄ‚îÄ kivy-deps-sdl2 &gt;=0.7.0,&lt;0.8.0
    ‚îú‚îÄ‚îÄ kivy-garden &gt;=0.1.4
    ‚îÇ   ‚îî‚îÄ‚îÄ requests *
    ‚îÇ       ‚îú‚îÄ‚îÄ certifi &gt;=2017.4.17
    ‚îÇ       ‚îú‚îÄ‚îÄ charset-normalizer &gt;=2,&lt;4
    ‚îÇ       ‚îú‚îÄ‚îÄ idna &gt;=2.5,&lt;4
    ‚îÇ       ‚îî‚îÄ‚îÄ urllib3 &gt;=1.21.1,&lt;3
    ‚îú‚îÄ‚îÄ pygments *
    ‚îî‚îÄ‚îÄ pypiwin32 *
        ‚îî‚îÄ‚îÄ pywin32 &gt;=223
</code></pre></li>
</ul>
</section><section>
<h2 id="package-managers-and-package-reporitories">Package managers and package reporitories</h2>
<ul>
<li>
<p>To support the <strong>extension</strong> of <em>runtimes</em>, and therefore the <strong>addition</strong> of <em>dependencies</em>‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ most programming languages come with 2 related tools:</p>
<ol>
<li>a <strong>package manager</strong>, which is a (command-line)-<em>tool</em> to <em>install</em> and <em>manage</em> <em>dependencies</em>, semi-automatically</li>
<li><strong>package repositories</strong>, which are <em>collections</em> of <em>software</em> and <em>metadata</em> about that <em>software</em>, commonly accessible via the Web</li>
</ol>
</li>
<li>
<p><strong>Packgage</strong> $\approx$ a <em>piece</em> of <em>software</em> with a <em>name</em> and a <em>version</em>, and a fixed structure eases <em>installation</em> and <em>reuse</em></p>
<ul>
<li>each package manager/repository subtends a <em>package format</em>, and some installation or publication procedures</li>
</ul>
</li>
<li>
<p>Package managers commonly support specifying from which <em>repository</em> a <em>dependency</em> should be <em>installed</em></p>
<ul>
<li>yet, each programming language may have its own <em>default</em> package repository</li>
</ul>
</li>
<li>
<p>In the Python world:</p>
<ul>
<li>the <a href="https://pypi.org/">Python Package Index</a> (<strong>PyPI</strong>) is the <em>default</em> software repository, full of <em>open-source</em> Python software</li>
<li>the <code>pip</code> command is the <em>default</em> package manager, and it is <em>tightly</em> integrated with PyPI
<ul>
<li>by default <code>pip install NAME</code> installs <em>the last version of</em> the <strong>package</strong> <code>NAME</code> from PyPI</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="dependency-declaration">Dependency declaration</h2>
<ul>
<li>
<p>It is a good practice to <strong>document</strong> which <em>dependencies</em> a <em>software</em> relies upon</p>
<ul>
<li>names and versions, possibly</li>
</ul>
</li>
<li>
<p>It is even a better practice to <strong>automate</strong> the <em>installation</em> of <em>dependencies</em></p>
<ul>
<li>so that they can be <em>restored</em> in automatically in any new development / usage environment</li>
</ul>
</li>
<li>
<p>Other than package managers and repositories, automation requires <strong>dependency declaration</strong></p>
<ul>
<li>each package manager supports some <strong>file format</strong> for this purpose</li>
</ul>
</li>
<li>
<p>In the Python world, there are <strong>several conventions</strong> for dependency declaration</p>
<ul>
<li>the most common is the <code>requirements.txt</code> file
<ul>
<li>which contains a list of <em>dependencies</em> in the form <code>NAME==VERSION</code></li>
<li>the <code>pip install -r requirements.txt</code> command installs all depndencis in the file</li>
</ul>
</li>
<li>another common convention is to declare Python version in a <code>.python-version</code> file
<ul>
<li>the <a href="https://github.com/pyenv/pyenv"><code>pyenv</code></a> <code>install</code> command can <em>install</em> corresponding version of Python</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="package-managers-into-the-wild">Package managers into the wild</h2>
<ul>
<li>
<p>The <em>Python</em> world is <em>not</em> the <em>only</em> one where <em>package managers</em> and <em>package repositories</em> are <em>used</em></p>
</li>
<li>
<p>Most programming languages have their own <em>package manager</em> and <em>package repository</em></p>
<ul>
<li>e.g. <em>Java</em> has <em>Maven</em> and <em>Gradle</em>, and <em>Maven Central</em></li>
<li><em>JavaScript</em> has <em>npm</em> and <em>npmjs.com</em></li>
<li><em>Rust</em> has <em>Cargo</em> and <em>crates.io</em></li>
<li><em>Go</em> has <em>go</em> and <em>pkg.go.dev</em></li>
<li><em>Ruby</em> has <em>gem</em> and <em>rubygems.org</em></li>
<li><em>C++</em> has <em>vcpkg</em> and <em>conan.io</em></li>
<li>etc.</li>
</ul>
</li>
<li>
<p>In the Linux world, package managers/repositories are used at the OS level too</p>
<ul>
<li>e.g. <em>Debian</em> and <em>Ubuntu</em> distributions use <em>apt</em> and <em>Debian repositories</em></li>
<li><em>Red Hat</em> and <em>Centos</em> distributions use <em>yum</em> and <em>Red Hat repositories</em></li>
<li><em>Arch Linux</em> and its derived distriutions use <em>pacman</em> and <em>Arch Linux repositories</em></li>
<li>etc.</li>
</ul>
</li>
<li>
<p>On MacOS, the <em>Homebrew</em> package manager is widely used (not shipped with the OS)</p>
</li>
<li>
<p>On Windows, one can use <em>chocolatey</em> or <em>scoop</em> as package managers (not shipped with the OS)</p>
</li>
</ul>
</section><section>
<h2 id="about-release-and-deployment">About release and deployment</h2>
<ul>
<li>
<p>Notice that private companies may have their own <em>private</em> package repositories</p>
</li>
<li>
<p>Also notice that some private companies may want to <em>publish</em> their <em>software</em> to <em>public</em> repositories</p>
<ul>
<li>e.g. the <em>Play store</em> or the <em>App store</em> for mobile applications</li>
</ul>
</li>
<li>
<p>In all such cases, you may interpret the <em>release</em> and <em>deployment</em> activities as follows:</p>
<ol>
<li>
<p><strong>Release</strong>: the activity of making a particular <strong>version</strong> of some <em>package</em> <strong>available</strong> on a package manager</p>
</li>
<li>
<p><strong>Deployment</strong>: the process of <strong>installing</strong> a particular version of a system onto the <strong>production environment</strong></p>
<ul>
<li>i.e. either the machine(s) of the end users, or the servers the end users interact with</li>
<li>this may be simple when the system is a <em>single package</em>, but it may be <em>complex</em> when the system is a <em>collection</em> of <em>interacting</em> packages</li>
</ul>
</li>
</ol>
</li>
</ul>
</section><section>
<h2 id="what-about-the-actual-code">What about the actual code?</h2>
<p>Let‚Äôs delve into the <a href="https://github.com/unibo-dtm-se/compact-calculator/blob/master/calculator.py">actual code</a> of the <em>calculator</em> application</p>
<p>(focus on the comments)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Import a bunch of stuff from the Kivy library, used below</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.app</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">App</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.boxlayout</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">BoxLayout</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.button</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Button</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.label</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Label</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Matrix of button names and their layout in the GUI</span>
</span></span><span style="display:flex;"><span><span style="color:#000">BUTTONS_NAMES</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'7'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'8'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'9'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'/'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'4'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'5'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'6'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'*'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'1'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'2'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'3'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'-'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'.'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'0'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'='</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'+'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Calculator *class*: template for all sorts of calculators. this is a particular case of App (i.e. a window, in Kivy)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">App</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Method to build the GUI of the calculator, accordinging to Kivy's conventions</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">build</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Definition &amp; initialisation of the "expression" field of the calculator.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># This fields stores a string, representing the expression to be evaluated when "=" is pressed</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's create a layout, i.e. a virtual container of the visual components the GUI.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># The grid shall dispose components vertically (top to bottom), i.e. it contains *rows* of components</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">orientation</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">'vertical'</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's create a label, which will serve as the display of the calculator</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Label</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">'0'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">size_hint</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.75</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Let's add the label to the grid, as the first row</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># For each *list of* button names in the matrix of button names...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_names_row</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">BUTTONS_NAMES</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... let's create another virtual container for a *row* for components</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid_row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... then, for each button name in the list of button names...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_name</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">button_names_row</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... let's create a button, having the button name as text</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># (the button is configured to call method on_button_press when pressed)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">button</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Button</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">button_name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">on_press</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... and let's add the button to the row</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">grid_row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">button</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># ... and let's add the row to the grid</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">grid_row</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># Finally, let's return the grid, what will be showed in the window</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">grid</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Method to be called when a button is pressed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">button</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># If the button is the "=" button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">button</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'='</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic"># Try to...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... evaluate the expresion *as a Python expression*, convert the result to a string, </span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic">#&nbsp;and show that string on the calculator display</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">eval</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">#&nbsp;If an error occurs in doing the above (e.g. wrong expression)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">SyntaxError</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#8f5902;font-style:italic"># ... set the display to "Error"</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">'Error'</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">#&nbsp;Reset the calculator's expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic"># If the button is any other button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">#&nbsp;Append the button's text to the calculator's expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#000">instance</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">#&nbsp;Show the calculator's expression on the display</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># If the script is executed as a standalone program (i.e. not imported as a module)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'__main__'</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic"># Let's create a new calculator application, and run it</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">run</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><ul>
<li>the whole application is contained in a single file, <code>calculator.py</code>, with a single class <code>CalculatorApp</code></li>
<li>the classe mixes <em>UI</em> and <em>businness logic</em> in a single place</li>
</ul>
</section><section>
<h2 id="the-issue-with-the-current-version-of-the-code-pt-1">The issue with the current version of the code (pt. 1)</h2>
<!-- ![The system is what the user sees](./view-only.svg) -->
<img src="./view-only.svg" style="
    
    height: 40vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
">

<br>
<ul>
<li>
<p>The system <strong>is</strong> what the user <em>sees</em> (i.e. the <strong>view</strong>)</p>
</li>
<li>
<p>The code is <strong>not</strong> modular: <em>view</em>, <em>controller</em>, and <em>model</em> are <em>mixed</em> together</p>
<ul>
<li>the <strong>view</strong> $\approx$ what is shown to the user</li>
<li>the <strong>model</strong> $\approx$ what the application <em>does</em> or <em>can do</em></li>
<li>the <strong>controller</strong> $\approx$ the <em>glue</em> between the <em>view</em> and the <em>model</em>
<ul>
<li>dictating how <em>changes</em> in the <em>view</em> are <em>reflected</em> in the <em>model</em></li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="the-issue-with-the-current-version-of-the-code-pt-2">The issue with the current version of the code (pt. 2)</h2>
<ul>
<li>
<p><em>Requirements may change</em>, e.g.: customers may ask for:</p>
<ul>
<li>novel operations (e.g. square root, power, etc.) to be supported
<ul>
<li>implies changes in the model, the view, and the controller</li>
</ul>
</li>
<li>a completely different view (e.g. a web interface)
<ul>
<li>implies rewriting the controller and the model, to just revrite the view</li>
</ul>
</li>
<li>a completely different model (e.g. a programmer calculator, supporting bin, oct, hex, dec)
<ul>
<li>implies rewriting the view and the controller, to just rewrite the model</li>
</ul>
</li>
</ul>
</li>
<li>
<p>It may be hard to <strong>change</strong> the model, without breaking the view or the controller</p>
<ul>
<li>the same apply for any other permutation of the three</li>
</ul>
</li>
<li>
<p>It may be hard to <strong>test</strong> the model, without testing the view or the controller</p>
<ul>
<li>the same apply for any other permutation of the three</li>
</ul>
</li>
<li>
<p>The application is, and <em>will always <strong>only</strong> be</em>, a desktop application</p>
<ul>
<li>unless complete rewrites are performed</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="a-good-way-to-decompose-code-pt-1">A good way to decompose code (pt. 1)</h2>
<img src="./view-model.svg" style="
    
    height: 40vh;
    max-width: 95vw;
    max-height: 80vh;
    object-fit: contain;
">

<ul>
<li>
<p>A good way to decompose code is to follow the <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller"><strong>Model-View-Controller</strong></a> (<strong>MVC</strong>) pattern</p>
</li>
<li>
<p>Different <em>portions</em> of the code are <em>responsible</em> for <em>different</em> aspects of the application</p>
<ul>
<li>some code is responsible for <strong>modelling</strong> the (<em>admissible</em>) <em>functionalities</em> of the application</li>
<li>some code is responsible for <strong>presenting</strong> the (<em>view</em> of the) application to the user</li>
<li>some code is responsible for <strong>controlling</strong> the <em>interaction</em> between the <em>user</em> and the <em>application</em></li>
<li>some code just <em>ties the pieces</em> together</li>
</ul>
</li>
<li>
<p>The desktop application is just one of many options</p>
<ul>
<li>as the GUI is just one of many possible views</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="a-good-way-to-decompose-code-pt-2">A good way to decompose code (pt. 2)</h2>
<ul>
<li>
<p>The same <em>model</em> could be <strong>attached</strong> to several different <em>views</em>, via as many <em>controllers</em></p>
<ul>
<li>without needing to re-write, or re-test the <em>model</em> at all</li>
</ul>
</li>
<li>
<p>The code of each portion could be <em>developed</em> and <em>tested</em> <strong>independently</strong></p>
<ul>
<li>possibly, at different paces, by different teams</li>
</ul>
</li>
<li>
<p>A bug in one portion of the code may be noticed before it affects the others</p>
</li>
<li>
<p>It allows managers, developers, and users to <em>reason</em> about</p>
<ul>
<li>what the <em>application</em> does (i.e. what functionalities it provides)</li>
<li>how the <em>application</em> is <em>presented</em> to users (multiple options may apply)</li>
<li>how the <em>user</em> interacts with the <em>application</em></li>
</ul>
</li>
</ul>
</section><section>
<h2 id="code-decomposition-and-modularity">Code decomposition and modularity</h2>
<ul>
<li>
<p>The idea of <strong>decomposing</strong> code into smaller, simpler <em>units</em> is pervasive in SE</p>
</li>
<li>
<p>Generally speaking, this idea is called <strong>modularity</strong></p>
<ul>
<li>the idea is design a software system as a <em>collection</em> of <em>composable</em> <strong>modules</strong>
<ul>
<li>a.k.a. <em>components</em>, <em>units</em>, <em>pieces</em>, etc.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Each module should have</p>
<ol>
<li>a single <strong>purspose</strong>, and clear <em>responsibilities</em></li>
<li>a <em>well-defined</em> <strong>interface</strong> to the <em>outside world</em> (i.e. users and other modules)</li>
<li>a number of <strong>formal parameters</strong> which make the module <em>adaptable</em> to many different instances of the same problem</li>
</ol>
</li>
<li>
<p>Two important notions here:</p>
<ol>
<li><strong>encapsulation</strong> $\approx$ whenever code is produced to solve a problem, let‚Äôs encapsulate it into a module for later reuse</li>
<li><strong>information hiding</strong> $\approx$ whenever a module is produced, only its interface is important for users, the implementation is hidden, and to most extents, irrelevant</li>
</ol>
</li>
<li>
<p>Programming languages are plenty of <strong>mechanisms</strong> to support modularity, at different <em>levels</em></p>
<ul>
<li>e.g. <em>functions</em>, <em>classes</em>, <em>modules</em>, <em>packages</em>, etc.</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="code-decomposition-and-modularity-in-python">Code decomposition and modularity in Python</h2>
<ol>
<li>
<p><strong>Functions</strong> are the most basic form of modularity in Python</p>
<ul>
<li>function <em>encapsulate</em> a piece of <em>code</em>, aimed at either <em>returning a value</em>, or <em>performing some action</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">sum</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">b</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Classes</strong> are a way to <em>encapsulate</em> both <em>data</em> and <em>functions</em> into a single <em>unit</em></p>
<ul>
<li>syntactically, think of classes as <em>groups of related functions</em>, possibly operating on <em>shared variables</em></li>
<li>semantically, classes are <em>templates</em> for <strong>objects</strong> (cf. <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object Oriented Programming</a>)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Pair</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">fst</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">snd</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">first</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">fst</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">second</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">snd</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">sum</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">first</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">second</span>
</span></span></code></pre></div></li>
</ol>
</section><section>
<h2 id="code-decomposition-and-modularity-in-python-pt-2">Code decomposition and modularity in Python (pt. 2)</h2>
<ol start="3">
<li>
<p><strong>Modules</strong> are a way to <em>encapsulate</em> related <em>functions</em> and <em>classes</em> into a single <em>unit</em></p>
<ul>
<li>syntactically, a module is a <code>.py</code> <em>file</em> containing <em>Python code</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># file: path/to/pair.py</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Pair</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">fst</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">snd</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">first</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">fst</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">second</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">snd</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">sum</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">first</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">second</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">p1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Pair</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">p2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Pair</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Packages</strong> are a way to <em>organize</em> related <em>modules</em> in a <em>hierarchical</em> way</p>
<ul>
<li>syntactically, a package is a <em>directory</em> containing <em>modules</em> and <em>sub-packages</em></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># another Python file in the same root directory</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">path.to.pair</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">p1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">p2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">x1</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">p1</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">sum</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># 3</span>
</span></span><span style="display:flex;"><span><span style="color:#000">x2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">p2</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">sum</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># 7</span>
</span></span></code></pre></div></li>
</ol>
</section><section>
<h2 id="code-decomposition-and-modularity-in-python-pt-3">Code decomposition and modularity in Python (pt. 3)</h2>
<blockquote>
<p><strong>Beware</strong>: Other programming languages may have similar mechanisms, but with different names,
or they may have different mechanisms to achieve the same goals,
or they may have a subset of the mechanisms available in Python</p></blockquote>
</section><section>
<h2 id="about-code-organization">About code organization</h2>
<p>As code is decomposed into smaller and smaller units‚Ä¶</p>
<ul>
<li>
<p>It is important to <em>organize</em> the code in a <em>meaningful</em> way</p>
<ul>
<li>so that it is <em>easy</em> to <em>find</em> functionalities, hence easing their <em>reuse</em></li>
</ul>
</li>
<li>
<p>Recall that code is meant to be read by humans, and that</p>
<ul>
<li>development teams may change</li>
<li>external developers using your code need to understand it</li>
</ul>
</li>
<li>
<p>As the software grows, a good <em>organization</em> of the code <em>mitigates</em> the following issues:</p>
<ul>
<li>it is <em>easier</em> to <em>get lost</em> in a <em>large</em> codebase</li>
<li>it is <em>easier</em> to <em>forget</em> what a <em>piece</em> of code does, or how it works</li>
<li>it is <em>easier</em> to <em>forget</em> whether some functionality is <em>already implemented</em>, or not</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="running-example-pt-5">Running example (pt. 5)</h2>
<p>Let‚Äôs decompose the <em>calculator</em> application in such a way that</p>
<ul>
<li>it has <strong>two</strong> <em>user interfaces</em> (UI) ‚Ä¶
<ul>
<li>namely, a <em>GUI</em>, and a <strong>command-line interface</strong> (<em>CLI</em>)</li>
</ul>
</li>
<li>‚Ä¶ both <em>attached</em> to the <strong>same</strong> <em>model</em></li>
</ul>

<div class="container w-100 m-0 p-0">
    <div class="row ">


<div class="col "><h3 id="the-gui">The GUI</h3>
<p><img src="./calculator.png" alt=""></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python -m calculator.ui.gui
</span></span></code></pre></div></div>


<div class="col "><h3 id="the-cli">The CLI</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python -m calculator.ui.cli <span style="color:#4e9a06">"1 + 1"</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>python -m calculator.ui.cli <span style="color:#4e9a06">"2*3"</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">6</span>
</span></span></code></pre></div></div>
</div>
</div>
</section><section>
<h2 id="running-example-pt-6">Running example (pt. 6)</h2>
<p>The source code for such application is available here:</p>
<p><a href="https://github.com/unibo-dtm-se/modular-calculator">https://github.com/unibo-dtm-se/modular-calculator</a></p>
<h3 id="to-do-list-1">TO-DO list</h3>
<ol>
<li>Download the code by clicking on the <em>green ‚ÄúCode‚Äù button</em>, and then <strong>‚ÄúDownload ZIP‚Äù</strong></li>
<li>Unpack the archive in a directory of your choice</li>
<li>Open the directory in some lightweight IDE like <strong>VS Code</strong>
<ul>
<li>possibly exploit the <strong>integrated terminal</strong></li>
</ul>
</li>
<li>Inspect the content of the directory (e.g. via the terminal, using the <code>tree</code> command)
<ul>
<li>you should note the following directories and files:
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>modular-calculator/     <span style="color:#8f5902;font-style:italic"># project root directory</span>
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ calculator/         <span style="color:#8f5902;font-style:italic"># the main package of the project (full name: calculator)</span>
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ __init__.py     <span style="color:#8f5902;font-style:italic"># the package initialization content</span>
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ ui/             <span style="color:#8f5902;font-style:italic"># the user interface sub-package (full name: calculator.ui)</span>
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp;     ‚îú‚îÄ‚îÄ cli.py      <span style="color:#8f5902;font-style:italic"># the command-line interface module (full name: calculator.ui.cli)</span>
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp;     ‚îî‚îÄ‚îÄ gui.py      <span style="color:#8f5902;font-style:italic"># the graphical user interface module (full name: calculator.ui.gui)</span>
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ .python-version     <span style="color:#8f5902;font-style:italic"># the Python version required by the project</span>
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ README.md           <span style="color:#8f5902;font-style:italic"># a file containing the some _notes_ about of the application</span>
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ requirements.txt    <span style="color:#8f5902;font-style:italic"># a file declaring the _dependencies_ of the application</span>
</span></span><span style="display:flex;"><span>‚îî‚îÄ‚îÄ .vscode             <span style="color:#8f5902;font-style:italic"># a directory containing the VS Code configuration</span>
</span></span><span style="display:flex;"><span>    ‚îî‚îÄ‚îÄ launch.json     <span style="color:#8f5902;font-style:italic"># a file containing the VS Code launch configuration</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ol>
</section><section>
<h2 id="running-example-pt-7">Running example (pt. 7)</h2>
<ol start="5">
<li>
<p>Let‚Äôs try to run the GUI application</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python -m calculator.ui.gui
</span></span></code></pre></div><p>the application should start, and you should see the calculator Window</p>
</li>
<li>
<p>Let‚Äôs try to run the CLI application</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>python -m calculator.ui.cli
</span></span></code></pre></div><p>you should get a hint about how to use the CLI application</p>
</li>
<li>
<p>Let‚Äôs analyze how the code has been decomposed</p>
<ol>
<li>have a look to the <code>calculator</code> module
<ul>
<li>namely, the <code>calculator/__init__.py</code> file</li>
</ul>
</li>
<li>have a look to the <code>calculator.ui.gui</code> module
<ul>
<li>namely, the <code>calculator/ui/gui.py</code> file</li>
</ul>
</li>
<li>have a look to the <code>calculator.ui.cli</code> module
<ul>
<li>namely, the <code>calculator/ui/cli.py</code> file</li>
</ul>
</li>
</ol>
</li>
</ol>
</section><section>
<h2 id="the-calculator-model-pt-1">The calculator model (pt. 1)</h2>
<p>Code from <code>calculator/__init__.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#000">Number</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">int</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#204a87">float</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">Calculator</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">_ensure_is_digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87">int</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#204a87">isinstance</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">int</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">value</span> <span style="color:#204a87;font-weight:bold">not</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#204a87">range</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">ValueError</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"Value must a digit in [0, 9]: "</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">value</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">value</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87">int</span> <span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">value</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_ensure_is_digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">plus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"+"</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">minus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"-"</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">multiply</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"*"</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">divide</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"/"</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">dot</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"."</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">compute_result</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">-&gt;</span> <span style="color:#000">Number</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">eval</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#204a87">isinstance</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Number</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">result</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">ValueError</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"Result is not a number: "</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">SyntaxError</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">e</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">""</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">ValueError</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"Invalid expression: "</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">e</span>
</span></span></code></pre></div></section><section>
<h2 id="the-calculator-model-pt-2">The calculator model (pt. 2)</h2>

<div class="container w-100 m-0 p-0">
    <div class="row ">


<div class="col "><p>Class diagram:</p>
<figure id="plantuml-figure-1739786970555528433" class="plantuml" alt="" style="width: 100%;max-width: 95vw;max-height: 80vh;">
<p>class Calculator {
+ expression: str
- _ensure_is_digit(value: int | str) ‚Üí int
- _append(value: int | str)
+ digit(value: int | str)
+ plus()
+ minus()
+ multiply()
+ divide()
+ dot()
+ compute_result() ‚Üí int | float
}</p>
</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1739786970555528433");
</script>
</div>


<div class="col "><p>Usage example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">calculator</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Calculator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Calculator</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># create a new calculator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># append digit 1</span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">plus</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># append the plus sign</span>
</span></span><span style="display:flex;"><span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># append digit 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># "1+2"</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">compute_result</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#8f5902;font-style:italic"># 3</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># ""</span>
</span></span></code></pre></div></div>
</div>
</div>
</section><section>
<h2 id="the-calculator-gui">The calculator GUI</h2>
<p>Code from <code>calculator/ui/gui.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.app</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">App</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.boxlayout</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">BoxLayout</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.button</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Button</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">kivy.uix.label</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Label</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">calculator</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Calculator</span> <span style="color:#8f5902;font-style:italic"># notice this line</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">BUTTONS_NAMES</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'7'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'8'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'9'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'/'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'4'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'5'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'6'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'*'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'1'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'2'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'3'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'-'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">'.'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'0'</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'='</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">'+'</span><span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">App</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">build</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Calculator</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#8f5902;font-style:italic"># new entry here</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">orientation</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">'vertical'</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Label</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">"0"</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">size_hint</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.75</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_names_row</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">BUTTONS_NAMES</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid_row</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">BoxLayout</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">button_name</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">button_names_row</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">button</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Button</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">button_name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">font_size</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">on_press</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">grid_row</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">button</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">grid</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_widget</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">grid_row</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">grid</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">on_button_press</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">button</span><span style="color:#000;font-weight:bold">):</span> <span style="color:#8f5902;font-style:italic"># completely rewritten</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">match</span> <span style="color:#000">button</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"="</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">compute_result</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">ValueError</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">e</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">"Error"</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"+"</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">plus</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"-"</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">minus</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"*"</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">multiply</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"/"</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">divide</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#4e9a06">"."</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">dot</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">case</span> <span style="color:#000">_</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">digit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">button</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_display</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">text</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'__main__'</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">CalculatorApp</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">run</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div></section><section>
<h2 id="the-calculator-cli">The calculator CLI</h2>
<p>Content of <code>calculator/ui/cli.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">calculator</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Calculator</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">sys</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">CalculatorCLI</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">args</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_args</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">args</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Calculator</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">run</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#204a87;font-weight:bold">not</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_args</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">"Usage: python -m calculator.ui.cli &lt;expression&gt;"</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">expression</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">" "</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">join</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_args</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">result</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_calc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">compute_result</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">ValueError</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">e</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">e</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">'__main__'</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">CalculatorCLI</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sys</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">argv</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">:])</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">run</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div></section><section>
<h2 id="overview-on-code-organization-pt-1">Overview on code organization (pt. 1)</h2>

<figure id="plantuml-figure-1739786970556986811" class="plantuml" alt="" style="width: 100%;max-width: 95vw;max-height: 80vh;">
    

package calculator {
    class Calculator {
        + expression: str
        - _ensure_is_digit(value: int | str) ‚Üí int
        - _append(value: int | str)
        + digit(value: int | str)
        + plus()
        + minus()
        + multiply()
        + divide()
        + dot()
        + compute_result() ‚Üí int | float
    }
    package ui {
        package gui {
            class CalculatorApp {
                - _display: Label
                - _calc: Calculator
                + build(): BoxLayout
                + on_button_press(button: Button)
            }
        }
        package cli {
            class CalculatorCLI {
                - _args: list[str]
                - _calc: Calculator
                + run()
            }
        }

        'cli -[hidden]d- gui
        CalculatorCLI *-- Calculator: composed by
        CalculatorApp *-- Calculator: composed by
    }
}


</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1739786970556986811");
</script>
</section><section>
<h2 id="overview-on-code-organization-pt-2">Overview on code organization (pt. 2)</h2>
<p>(including dependencies from Python and Kivy)</p>

<figure id="plantuml-figure-1739786970557011417" class="plantuml" alt="" style="width: 100%;max-width: 95vw;max-height: 80vh;">
    

package "Python Standard Library" as Python {
    class int
    class str
    class float
    class list
    class ValueError
    metaclass sys
}

package calculator {
    class Calculator {
        + expression: str
        - _ensure_is_digit(value: int | str) ‚Üí int
        - _append(value: int | str)
        + digit(value: int | str)
        + plus()
        + minus()
        + multiply()
        + divide()
        + dot()
        + compute_result() ‚Üí int | float
    }
    package ui {
        package gui {
            class CalculatorApp {
                - _display: Label
                - _calc: Calculator
                + build(): BoxLayout
                + on_button_press(button: Button)
            }
        }
        package cli {
            class CalculatorCLI {
                - _args: list[str]
                - _calc: Calculator
                + run()
            }
        }

        'cli -[hidden]d- gui
        CalculatorCLI *-- Calculator: composed by
        CalculatorApp *-- Calculator: composed by
    }
}

package kivy {
    package app {
        class App
    }
    package uix {
        package boxlayout {
            class BoxLayout
        }
        package button {
            class Button
        }
        package label {
            class Label
        }
    }
}

CalculatorApp --|&gt; App: subtype of
CalculatorApp *-- BoxLayout: composed by
CalculatorApp *-- Button: composed by
CalculatorApp *-- Label: composed by
calculator .left.&gt; Python: uses extensively


</figure>
<script>
    handlePlantumlFigureByID("plantuml-figure-1739786970557011417");
</script>
</section><section>
<h2 id="many-hidden-concepts-in-this-example-1">Many hidden concepts in this example</h2>
<ol>
<li>
<p>the notion of <strong>software design</strong></p>
<ul>
<li>i.e. the activity of representing <em>relevant</em> <strong>concepts</strong> (and their <strong>relationships</strong>) from the <em>domain</em> at hand, into the <em>code</em>
<ul>
<li>or, the <em>result</em> of such activity (i.e. the representation itself)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>the notion of <strong>interface</strong>, and, most notably:</p>
<ul>
<li>the <strong>user</strong> <em>interface</em> (<strong>UI</strong>)
<ul>
<li>i.e. the means by which <em>users</em> interact with the <em>application</em> (in order to use it)</li>
</ul>
</li>
<li>the <strong>application programming</strong> <em>interface</em> (<strong>API</strong>)
<ul>
<li>i.e. the means by which <em>developers</em> interact with the <em>application</em> (in order to write more software on top of it)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>the notion of <strong>project structure</strong></p>
<ul>
<li>i.e. how to <em>organize</em> files and directories in software project</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="about-the-project-structure">About the project structure</h2>
<ul>
<li>
<p>It‚Äôs important to <strong>organize</strong> <em>files</em> and <em>directories</em> in software projects in a <em>clear</em> way</p>
<ul>
<li>this is important for both <em>humans</em> and <em>interpreters</em>/<em>compilers</em>
<ul>
<li>humans may <em>benefit</em> by getting more easily <em>oriented</em> when navigating the <em>source code</em></li>
<li>tools most commonly <em>require</em> a <em>fixed structure</em> to <em>operate</em> correctly</li>
</ul>
</li>
</ul>
</li>
<li>
<p>For <em>Python</em> projects, the ultimate project structure will be clear along the way in the course‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ for the time being, let‚Äôs stick to the following project structure:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="nohighlight" data-noescape=""><span style="display:flex;"><span>root-directory/
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ main_package/
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ __init__.py
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ sub_module.py
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ sub_package/ 
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp;     ‚îú‚îÄ‚îÄ __init__.py 
</span></span><span style="display:flex;"><span>‚îÇ&nbsp;&nbsp;     ‚îî‚îÄ‚îÄ sub_sub_module.py 
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ .python-version
</span></span><span style="display:flex;"><span>‚îú‚îÄ‚îÄ README.md
</span></span><span style="display:flex;"><span>‚îî‚îÄ‚îÄ requirements.txt
</span></span></code></pre></div></li>
<li>
<p>Further files/directories will pop-up in the next lectures</p>
<ul>
<li>e.g. for <em>automated tests</em></li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-user-interfaces-pt-1">About user interfaces (pt. 1)</h2>
<ul>
<li>
<p>An application‚Äôs UI is any means by which <strong>human users</strong> interact with the application</p>
<ul>
<li>e.g. a <em>graphical</em> user interface (<strong>GUI</strong>), a <em>command-line</em> interface (<strong>CLI</strong>), a <em>web page</em>, a <em>voice user interface</em> (<strong>VUI</strong>), etc.</li>
</ul>
</li>
<li>
<p>Regardless of the <em>appearance</em>, the <strong>functioning</strong> of the UI can be summarised as follows:</p>
<ol>
<li><strong>present</strong> the <em>initial UI</em> to the user</li>
<li><strong>wait</strong> for <em>inputs</em></li>
<li><strong>process</strong> the <em>inputs</em></li>
<li><strong>present</strong> the <em>output</em> / <em>effects</em> of the processing to the user
<ul>
<li>possibly, <strong>exit</strong> if the inputs says to do so</li>
</ul>
</li>
<li><strong>go</strong> back to <em>2</em></li>
</ol>
</li>
<li>
<p>Engineering the UI is a <em>complex</em> task, as it involves <em>many</em> aspects of <em>human-computer interaction</em> (<strong>HCI</strong>)‚Ä¶</p>
<ul>
<li>e.g. <em>usability</em>, <em>accessibility</em>, <em>aesthetics</em>, <em>ergonomics</em>, etc.</li>
</ul>
</li>
<li>
<p>‚Ä¶ and, of course, elciting the admissible <em>inputs</em> for the UI:</p>
<ul>
<li>and engineering how are being <strong>capture</strong> or <em>recognised</em></li>
<li>and what <strong>processing</strong> means for each of them</li>
<li>and how to <strong>present</strong> the corresponding <em>outputs</em> / <em>effects</em></li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-user-interfaces-pt-2">About user interfaces (pt. 2)</h2>
<p>Disclaimer:</p>
<blockquote>
<p>While <strong>UI</strong> is very <em>important</em>, and <em>engineering UI</em> <strong>is part</strong> <em>of SE</em>, it is <em>not</em> the <em>only</em> part of SE.
It is far <em>more important</em> in SE to take care about the <strong>API</strong></p></blockquote>
<br>
<p>The rationale is as follows:</p>
<ul>
<li>UI may change</li>
<li>a good API allows to <em>change</em> the UI without <em>rewriting</em> the whole software</li>
</ul>
</section><section>
<h2 id="about-application-programming-interfaces-pt-1">About application programming interfaces (pt. 1)</h2>
<blockquote>
<p>The <strong>application programming interface</strong> (<em>API</em>) of a software is:</p>
<ol>
<li>the set of <strong>functionalities</strong> the software <em>provides</em> to <strong>developers</strong> for building <em>other</em> software on top of it</li>
<li>a (semi-)formal <strong>specification</strong> of 1, including, <em>for each functionality</em>:</li>
</ol>
<ul>
<li>the <em>name</em> by which it is known / <em>referenced</em></li>
<li>the <em>formal parameters</em> it accepts as <em>input</em></li>
<li>the <em>return values</em> or <em>effects</em> it produces as <em>outcome</em></li>
<li>the <em>pre-conditions</em> and <em>post-conditions</em> it satisfies/establishes</li>
</ul></blockquote>
</section><section>
<h2 id="about-application-programming-interfaces-pt-2">About application programming interfaces (pt. 2)</h2>
<p>Recall that software is often <em>built</em> on top of <em>other</em> software, in a <strong>layered</strong> way:
<img src="./layers.jpg" alt="Layers in a software system"></p>
<ul>
<li>
<p>You can think of a piece of software as a <strong>provider</strong> of <em>services</em> to their users</p>
<ul>
<li>here users are, again, software</li>
</ul>
</li>
<li>
<p>At the same time, a piece of software could be a <strong>consumer</strong> of services from other software</p>
</li>
</ul>
</section><section>
<h2 id="about-application-programming-interfaces-pt-3">About application programming interfaces (pt. 3)</h2>
<h3 id="useful-metaphor">Useful metaphor</h3>
<ul>
<li>
<p>The <em>API</em> is the <strong>contract</strong> between the <em>provider</em> and the <em>consumer</em> of services</p>
</li>
<li>
<p>The <em>provider</em> of the services knows <strong>how to provide</strong> the services</p>
</li>
<li>
<p>The <em>consumer</em> of the services knows <strong>what</strong> the services do, and <strong>how to exploit</strong> them</p>
</li>
<li>
<p>A <strong>change</strong> in the contract would <em>affect both</em> sides</p>
</li>
</ul>
</section><section>
<h2 id="application-programming-interfaces-in-practice-pt-1">Application programming interfaces in practice (pt. 1)</h2>
<h3 id="rule-of-thumb-for-python-projects">Rule of thumb for Python projects</h3>
<p>The <em>API</em> of a <em>Python project</em> consists of</p>
<ol>
<li>the set of all <em>public</em> <strong>modules</strong></li>
<li>plus, the set of all <em>public</em> <strong>definitions</strong> in those modules
<ul>
<li>e.g. functions, classes, variables, constants</li>
</ul>
</li>
<li>plus, the set of all <em>public</em> <strong>attributes</strong> of those definitions
<ul>
<li>e.g. methods, properties, fields</li>
</ul>
</li>
</ol>
<h3 id="what-does-public-means-here">What does ‚Äúpublic‚Äù means here?</h3>
<blockquote>
<ul>
<li>‚Äú<strong>Public</strong>‚Äù means ‚Äúintended for <em>external</em> usage‚Äù
<ul>
<li>i.e. ‚Äúto be used by <em>other</em> developers (other than the ones who wrote the current code)‚Äù</li>
</ul>
</li>
<li>the opposite of ‚Äúpublic‚Äù is ‚Äú<strong>private</strong>‚Äù</li>
</ul></blockquote>
</section><section>
<h2 id="application-programming-interfaces-in-practice-pt-2">Application programming interfaces in practice (pt. 2)</h2>
<ul>
<li>
<p>In Python, everything is <em>public</em> by convention</p>
<ul>
<li>except for the <em>names</em> starting with one or more <em>underscores</em> (<code>_</code>)</li>
<li>yet, names wrapped by <em>double</em> underscores (<code>__example__</code>) are <a href="https://realpython.com/python-magic-methods/">magic methods</a>
<ul>
<li>they <strong>alter</strong> the <em>behaviour</em> of the <em>classes</em> / <em>modules</em> they belong to‚Ä¶</li>
<li>‚Ä¶ hence, you should consider them as <em>public</em> too</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Beware</strong> because Python adopts the <a href="https://stackoverflow.com/a/70736">‚Äúconsenting adults‚Äù</a> convention</p>
<ul>
<li>nothing <em>prevents</em> you from using <em>private</em> names, or <em>magic</em> names, as if they were <em>public</em></li>
<li>yet, in doing that you are opening yourself to a <strong>risk</strong>
<ul>
<li>i.e. the <em>private</em> functionality you‚Äôre using may <strong>change abruptly</strong> in some future version of the software</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>
<p>Another way to think about <em>private</em> stuff in a software project is:</p>
<blockquote>
<p><em>private</em> stuff may change <strong>without notice</strong>, in any moment</p></blockquote>
</section><section>
<h2 id="application-programming-interfaces-in-practice-pt-3">Application programming interfaces in practice (pt. 3)</h2>
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Class_diagram">Class diagrams</a> are a good way to represent the <em>API</em> (as well as the <em>structure</em>) of a <em>software project</em></p>
<ul>
<li>they show the <em>public</em> classes, and their <em>public</em> methods and attributes</li>
<li>they show the <em>relationships</em> between the classes
<ul>
<li>e.g. the <strong>sub-typing</strong> and <strong>composition</strong> relationships, etc.</li>
</ul>
</li>
<li>they show the <em>disposition</em> of the classes into <em>packages</em> and <em>modules</em></li>
<li>they highlight <strong>public and private</strong> members of classes / modules</li>
</ul>
</li>
<li>
<p>I use <a href="https://plantuml.com/class-diagram">PlantUML</a> to draw class diagrams</p>
<ul>
<li>it is a <em>textual</em> way to represent class diagrams</li>
<li>it is <em>easy</em> to <em>write</em> and <em>read</em></li>
<li>it is <em>easy</em> to generate pictures from it</li>
</ul>
</li>
</ul>
<blockquote>
<p>Get used to:</p>
<ol>
<li><em>draw</em> class diagrams for your software projects</li>
<li><em>read</em> class diagrams of other software projects</li>
<li>reverse-engineer (or just imagine) the class diagrams of software projects you use</li>
</ol></blockquote>
</section><section>
<h1 id="exercise">Exercise</h1>
<ol>
<li>Let‚Äôs go back to the <em>class diagram</em> from <em>a few slides ago</em></li>
<li>Try to <em>distinguish</em> among <em>public and private members</em> of the classes from <em>the diagram</em></li>
<li>Then go back to the source code of the <em>calculator</em> application</li>
<li>Finally, try to <em>identify</em> the <em>public and private members</em> of the classes from <em>the code</em></li>
</ol>
</section><section>
<h2 id="is-cli-a-ui-or-an-api">Is CLI a UI or an API?</h2>
<p>(spoiler: both)</p>
<ul>
<li>
<p>A command line application can be seen as:</p>
<ul>
<li>a <strong>UI</strong> for <em>users</em> who interact with the application via the terminal</li>
<li>part of the <strong>API</strong> for <em>developers</em> who write <strong>scripts</strong> for a given <em>shell</em></li>
</ul>
</li>
<li>
<p>Recall that a command-line application is just one more <strong>command</strong> for the <em>shell</em></p>
</li>
<li>
<p>The <strong>API</strong> of a command line application is a description of</p>
<ul>
<li>the set of <strong>arguments</strong> it accepts when <em>invoked</em> as a command on a shell</li>
<li>the <strong>output</strong> it prints on the shell after the command is <em>executed</em></li>
<li>the <strong>exit code</strong> it returns to the shell after the command is <em>executed</em></li>
<li>the <strong>side effects</strong> it produces on the system after the command is <em>executed</em>
<ul>
<li>e.g. file creation, file deletion, file modification, etc.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Most commonly, the <strong>API</strong> of a command line application can be inspected via the <code>--help</code> argument</p>
</li>
</ul>
</section><section>
<h2 id="sorts-of-software-projects-pt-1">Sorts of software projects (pt. 1)</h2>
<ul>
<li>
<p>Depending on <em>which</em> and <em>how many</em> <strong>interfaces</strong> a software project <em>exposes</em>‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ the <strong>aim</strong> of that software project is <em>different</em></p>
</li>
<li>
<p>For instace:</p>
<ul>
<li>a <strong>library</strong> exposes an <em>API</em></li>
<li>an <strong>application</strong> exposes a <em>UI</em>
<ul>
<li>a <strong>desktop application</strong> exposes a <em>GUI</em> (which is tailored for big screens, mouse, and keyboard)</li>
<li>a <strong>mobile application</strong> exposes a <em>GUI</em> (which is tailored for small screens, touch, and gestures)</li>
<li>a <strong>web application</strong> exposes a <em>GUI</em> (which is tailored for web browsers, and the Web)
<ul>
<li>most commonly, this works both on desktop and mobile devices</li>
</ul>
</li>
<li>a <strong>command-line application</strong> exposes a
<ol>
<li>a <em>CLI</em> (which is tailored for terminals, and shells)</li>
<li>an <em>API</em> (which is tailored for shell scripts)</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Further categories may appear along the way in the course:</p>
<ul>
<li>e.g. <em>services</em>, <em>frameworks</em>, <em>scripts</em>, <em>notebooks</em>, etc.</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="sorts-of-software-projects-pt-2">Sorts of software projects (pt. 2)</h2>
<ul>
<li>
<p>Notice that the aforementioned categories are <strong>not</strong> <em>mutually exclusive</em></p>
<ul>
<li>e.g. one software product may <em>simultanoesly</em> be a <em>library</em> and an <em>application</em>
<ul>
<li>if properly engineered</li>
</ul>
</li>
</ul>
</li>
<li>
<p>For instance, in order for a software project to support <em>several UI</em>‚Ä¶</p>
<ul>
<li>‚Ä¶ it is common to split it into:
<ol>
<li>one or more components acting as <em>libraries</em>, which <em>expose</em> <strong>API</strong></li>
<li>one or more components acting as <strong>UI</strong>, hence making the whole project an <em>application</em></li>
</ol>
</li>
</ul>
</li>
<li>
<p>We recommend to reason about the <strong>aim</strong> of the software since the <em>very beginning</em></p>
<ul>
<li>this will <em>guide</em> the <em>design</em> of the software</li>
<li>and the <em>organization</em> of the code</li>
</ul>
</li>
</ul>
</section><section>
<h2 id="about-software-design-pt-1">About software design (pt. 1)</h2>
<h3 id="just-to-give-you-an-insight">Just to give you an insight</h3>
<ol>
<li>
<p>After understanding the <strong>requirements</strong>, and the <strong>domain</strong> at hand‚Ä¶</p>
</li>
<li>
<p>‚Ä¶ <em>software architects</em> will reason about the <strong>design</strong> of the software</p>
<ul>
<li>which <em>relevant</em> <strong>concepts</strong> from the domain must be represented in the software?</li>
<li>how should those concepts be <em>related</em> to each other?</li>
</ul>
</li>
<li>
<p>the <em>result</em> of such reasoning is a <strong>model</strong> of the software</p>
<ol>
<li><strong>classes</strong> / <strong>functions</strong> are envisioned to <em>represent</em> each <em>concept</em>
<ul>
<li>possibly <strong>reusing</strong> existing stuff from <em>standard</em>, or <em>third-party</em> libraries</li>
</ul>
</li>
<li><strong>relationships</strong> between classes / functions are described
<ul>
<li>e.g. <em>sub-typing</em>, <em>composition</em>, <em>aggregation</em>, <em>inheritance</em>, etc.</li>
</ul>
</li>
<li>the <strong>behaviour</strong> of each class / function is described
<ul>
<li>e.g. <em>pre-conditions</em>, <em>post-conditions</em>, <em>invariants</em>, <em>state-transition</em>, etc.</li>
</ul>
</li>
<li>the <strong>interactions</strong> between classes / functions are described
<ul>
<li>e.g. who calls what, when, and why</li>
</ul>
</li>
</ol>
</li>
</ol>
</section><section>
<h2 id="about-software-design-pt-2">About software design (pt. 2)</h2>
<h3 id="just-to-give-you-an-insight-continued">Just to give you an insight (continued)</h3>
<ol start="4">
<li>Focus is then directed torwards other <em>non-functional</em> or <em>trasversal</em> aspects of the software
<ul>
<li>e.g. classes / functions for <strong>UI</strong>, and their attachment to the <em>model</em>
<ul>
<li>how do <em>humans</em> <strong>use</strong> the software?</li>
</ul>
</li>
<li>e.g. classes / functions for <strong>persistence</strong>, and their attachment to the <em>model</em>
<ul>
<li>do the software need to <strong>store</strong> or <strong>retrieve</strong> data? <em>which</em> data? <em>where</em>? <em>how</em>?</li>
</ul>
</li>
<li>e.g. classes / functions for <strong>communication</strong> (over the <em>network</em>), and their attachment to the <em>model</em>
<ul>
<li>does the software need to <strong>talk</strong> to other software, located <strong>elsewhere</strong>?</li>
<li><em>where</em> is ‚Äúelsewhere‚Äù? what network? (Web? Internet? Bluetooth?)</li>
<li>are <em>intermetiary</em> components involved? (e.g. <em>servers</em>, <em>message brokers</em>, etc.)</li>
</ul>
</li>
<li>e.g. classes / functions for <strong>authentication</strong> and <strong>authorization</strong>, and their attachment to the <em>model</em>
<ul>
<li>how to <em>recognise</em> <strong>legitimate</strong> users? <em>who</em> can do <em>what</em>?</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="about-software-design-pt-3">About software design (pt. 3)</h2>
<h3 id="example">Example</h3>
<p>Let‚Äôs consider the <em>calculator</em> application</p>
<ol>
<li><em>Which</em> relevant concepts?
<ul>
<li><strong>Calculator</strong>: an object for <em>writing</em> arithmetic <em>expressions</em> (one symbol at a time), and <em>evaluating</em> them into <em>results</em>
<ul>
<li>repersented by ad-hoc class</li>
</ul>
</li>
<li><strong>Expression</strong>: a combining <em>numbers</em> and <em>operators</em>
<ul>
<li>represented by strings (type <code>str</code> in Python)</li>
</ul>
</li>
<li><strong>Writing</strong>: an expression should be created by appending digits or symbols, one by one
<ul>
<li>represented by methods of the <code>Calculator</code> class</li>
</ul>
</li>
<li><strong>Evaluating</strong>: an expression should be evaluated into a <em>result</em>
<ul>
<li>represented by methods of the <code>Calculator</code> class</li>
</ul>
</li>
<li><strong>Result</strong>: the outcome of evaluating an expression
<ul>
<li>represented by Python numbers (either <code>int</code> or <code>float</code>)</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h2 id="about-software-design-pt-3-1">About software design (pt. 3)</h2>
<h3 id="example-continued">Example (continued)</h3>
<ol start="2">
<li>
<p>How should those concepts be <em>related</em> to each other?</p>
<ul>
<li>each <code>Calculator</code> object is composed by one (and only one) <code>Expression</code> object
<ul>
<li>the latter evolves over time</li>
</ul>
</li>
</ul>
</li>
<li>
<p>How should the <code>Calculator</code> class <em>behave</em>?</p>
<ul>
<li>methods of the <code>Calculator</code> class are responsible updating the <code>Expression</code>
<ul>
<li>by appending digits or symbols</li>
</ul>
</li>
<li>one method is responsible for evaluating the <code>Expression</code> into a <code>Result</code>
<ul>
<li>and resetting the <code>Expression</code> to an empty one</li>
</ul>
</li>
</ul>
</li>
</ol>
</section><section>
<h1 id="exercises">Exercises</h1>
<p>All exercises involve either analysing or editing the code of the (modular) <em>calculator</em> application</p>
<p><a href="https://github.com/unibo-dtm-se/modular-calculator">https://github.com/unibo-dtm-se/modular-calculator</a></p>
</section><section>
<h2 id="exercise-1">Exercise 1</h2>
<h3 id="the-impact-of-modularity-on-bug-detection--fixing">The impact of modularity on bug detection / fixing</h3>
<blockquote>
<p>The calculator has a <em>bug</em>: <strong>it does not properly handle division by zero</strong></p></blockquote>
<p>Is this a <em>presentation</em>, a <em>modelling</em>, or an <em>implementation</em> issue?</p>
<ul>
<li>do the software presents information poorly, or misinterprets inputs?</li>
<li>are all views affected by the bug? or just one?</li>
<li>did we miss something when designing the model?</li>
<li>did the implementer make a mistake?</li>
</ul>
<h4 id="to-do-list-2">TO-DO List</h4>
<ol>
<li>
<p>play with the software to understand the bug</p>
<ul>
<li>try to reproduce the bug in both the GUI and the CLI</li>
<li>try to understand the root cause of the bug</li>
</ul>
</li>
<li>
<p>solve the bug (by doing some <em>minimal</em> change in the code)</p>
</li>
</ol>
</section><section>
<h2 id="exercise-2">Exercise 2</h2>
<h3 id="new-feature-request">New feature request</h3>
<blockquote>
<p>The calculator GUI is missing a feature: <strong>it gives no way to the user to clear the current expression</strong></p></blockquote>
<p>We totally missed that functionality when designing the <em>model</em> and the <em>GUI</em></p>
<ul>
<li>what is missing in the model?</li>
<li>what is missing in the GUI?</li>
</ul>
<h4 id="to-do-list-3">TO-DO List</h4>
<p>While minimising changes in the code:</p>
<ol>
<li>extend the <em>model</em> to support the ‚Äúclearing the current expression‚Äù <em>functionality</em></li>
<li>extend the <em>layout</em> of the GUI to support one more <em>button</em></li>
<li><em>attach</em> the new button to the new functionality from the model</li>
</ol>
</section><section>
<h1 id="lecture-is-over">Lecture is Over</h1>
<br>
<p>Compiled on: 2025-02-17 ‚Äî <a href="?print-pdf&amp;pdfSeparateFragments=false"><i class="fa fa-print" aria-hidden="true"></i> printable version</a></p>
<p><a href="../#/toc"><i class="fa fa-undo" aria-hidden="true"></i> back to ToC</a></p>
</section>

  


</div>
      

    </div>
<script type="text/javascript" src="/course-slides/reveal-hugo/object-assign.js"></script>

<a href="/course-slides/reveal-js/dist/print/" id="print-location" style="display: none;"></a>

<script type="application/json" id="reveal-hugo-site-params">{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"1080","highlight_theme":"github","history":true,"mermaid":[{"gitGraph":{"mainBranchName":"master","rotateCommitLabel":true},"startOnLoad":false,"useMaxWidth":false}],"slide_number":true,"theme":"league","transition":"slide","transition_speed":"fast","width":"1920"}</script>
<script type="application/json" id="reveal-hugo-page-params">null</script>

<script src="/course-slides/reveal-js/dist/reveal.js"></script>


  
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/zoom/zoom.js"></script>
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/notes/notes.js"></script>
  
  
  <script type="text/javascript" src="/course-slides/reveal-js/plugin/notes/notes.js"></script>




<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }

  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };

  var revealHugoPlugins = {
    plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
   };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams),
    camelize(revealHugoPlugins));
  Reveal.initialize(options);
</script>







  
  

  
  

  
  

  
  

  
    
  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  



  <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.3/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({"gitGraph":{"mainBranchName":"master","rotateCommitLabel":true},"startOnLoad":false,"useMaxWidth":false});

    let render = (event) => {
      let mermaidElems = event.currentSlide.querySelectorAll('.mermaid');
      if (!mermaidElems.length){
          return
      }
      mermaidElems.forEach(mermaidElem => {
          let processed = mermaidElem.getAttribute('data-processed');
          if (!processed){
              
              mermaid.init(undefined, mermaidElem);
          }
      });
    };
    
    render({currentSlide: Reveal.getCurrentSlide()});

    Reveal.on('slidechanged', render);
    Reveal.on('ready', render);
  </script>



    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>

<script type="text/javascript" id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script>
  if (/.*?(\?|&)print-pdf/.test(window.location.toString())) {
      var ytVideos = document.getElementsByTagName("iframe")
      for (let i = 0; i < ytVideos.length; i++) {
          var videoFrame = ytVideos[i]
          var isYouTube = /^https?:\/\/(www.)youtube\.com\/.*/.test(videoFrame.src)
          if (isYouTube) {
              console.log(`Removing ${videoFrame.src}`)
              var parent = videoFrame.parentElement
              videoFrame.remove()
              var p = document.createElement('p')
              p.append(
                  document.createTextNode(
                      "There was an embedded video here, but it is disabled in the printed version of the slides."
                  )
              )
              p.append(document.createElement('br'))
              p.append(
                  document.createTextNode(
                      `Visit instead ${
                          videoFrame.src
                      } or ${
                          videoFrame.src.replace(
                              /(^https?:\/\/(www.)youtube\.com)\/(embed\/)(\w+).*/,
                              "https://www.youtube.com/watch?v=$4"
                          )
                      }`
                  )
              )
              parent.appendChild(p)
          }
      }
  }
</script>


    
  

</body></html>